<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="Epidemiologist | PhD researcher | Machine learning, computational metabolomics">
<title>TriplotGUI  - Workflow</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./img/TriplotGUI_logo_white.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: white;
      }

      .quarto-title-block .quarto-title-banner {
        color: white;
      }
</style>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><link rel="stylesheet" href="styles.scss">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./img/TriplotGUI_logo_black.png" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">TriplotGUI <i class="fa-brands fa-gitlab" aria-label="gitlab"></i></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="./introduction.html" rel="" target="">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./installation.html" rel="" target="">
 <span class="menu-text">Setup</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./workflow.html" rel="" target="" aria-current="page">
 <span class="menu-text">Details</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorial(simple" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Tutorial(simple)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tutorial(simple">
<li>
    <a class="dropdown-item" href="./simple.html" rel="" target="">
 <span class="dropdown-text">User Interface</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./simple_code.html" rel="" target="">
 <span class="dropdown-text">Code</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorial(complex" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Tutorial(complex)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tutorial(complex">
<li>
    <a class="dropdown-item" href="./complex.html" rel="" target="">
 <span class="dropdown-text">User Interface</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./complex_code.html" rel="" target="">
 <span class="dropdown-text">Code</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item">
    <a class="nav-link" href="./use_case.html" rel="" target="">
 <span class="menu-text">Use Case</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./papers.html" rel="" target="">
 <span class="menu-text">Papers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About us</span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://yingxiaoyan.gitlab.io/triplotgui_tutorial/" rel="" target=""><i class="bi bi-folder-symlink" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://gitlab.com/YingxiaoYan/TriplotGUI" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/yingxiao-yan" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:yingxiao.yan.007@gmail.com" rel="" target=""><i class="bi bi-envelope" role="img" aria-label="email">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <div class="quarto-title-block"><div><h1 class="title">Workflow</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
            <p class="subtitle lead">The details of statistics and epidemiology</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Workflow</h2>
   
  <ul>
<li>
<a href="#step1-data-reduction-of-omics-data" id="toc-step1-data-reduction-of-omics-data" class="nav-link active" data-scroll-target="#step1-data-reduction-of-omics-data"><span class="header-section-number">1</span> <strong>Step1:</strong> Data reduction of Omics data</a>
  <ul>
<li>
<a href="#data-for-pcawgcna" id="toc-data-for-pcawgcna" class="nav-link" data-scroll-target="#data-for-pcawgcna"><span class="header-section-number">1.1</span> Data for PCA/WGCNA</a>
  <ul>
<li><a href="#Basics_1_1_1" id="toc-Basics_1_1_1" class="nav-link" data-scroll-target="#Basics_1_1_1"><span class="header-section-number">1.1.1</span> Basics</a></li>
  <li><a href="#Emerged_1_1_2" id="toc-Emerged_1_1_2" class="nav-link" data-scroll-target="#Emerged_1_1_2"><span class="header-section-number">1.1.2</span> Emerged</a></li>
  <li><a href="#and-more" id="toc-and-more" class="nav-link" data-scroll-target="#and-more"><span class="header-section-number">1.1.3</span> And more</a></li>
  </ul>
</li>
  <li>
<a href="#auxilary_data" id="toc-auxilary_data" class="nav-link" data-scroll-target="#auxilary_data"><span class="header-section-number">1.2</span> Auxilary data</a>
  <ul>
<li><a href="#Basics_1_2_1" id="toc-Basics_1_2_1" class="nav-link" data-scroll-target="#Basics_1_2_1"><span class="header-section-number">1.2.1</span> Basics</a></li>
  <li><a href="#Emerged_1_2_2" id="toc-Emerged_1_2_2" class="nav-link" data-scroll-target="#Emerged_1_2_2"><span class="header-section-number">1.2.2</span> Emerged</a></li>
  </ul>
</li>
  <li>
<a href="#data-analysis-settings" id="toc-data-analysis-settings" class="nav-link" data-scroll-target="#data-analysis-settings"><span class="header-section-number">1.3</span> Data analysis settings</a>
  <ul>
<li><a href="#basics" id="toc-basics" class="nav-link" data-scroll-target="#basics"><span class="header-section-number">1.3.1</span> Basics</a></li>
  <li><a href="#emerged" id="toc-emerged" class="nav-link" data-scroll-target="#emerged"><span class="header-section-number">1.3.2</span> Emerged</a></li>
  </ul>
</li>
  <li>
<a href="#visualization-settings" id="toc-visualization-settings" class="nav-link" data-scroll-target="#visualization-settings"><span class="header-section-number">1.4</span> Visualization settings</a>
  <ul>
<li><a href="#basics-1" id="toc-basics-1" class="nav-link" data-scroll-target="#basics-1"><span class="header-section-number">1.4.1</span> Basics</a></li>
  <li><a href="#Emerged_1_4_2" id="toc-Emerged_1_4_2" class="nav-link" data-scroll-target="#Emerged_1_4_2"><span class="header-section-number">1.4.2</span> Emerged</a></li>
  </ul>
</li>
  <li><a href="#visualizations" id="toc-visualizations" class="nav-link" data-scroll-target="#visualizations"><span class="header-section-number">1.5</span> Visualizations</a></li>
  </ul>
</li>
  <li>
<a href="#step2a-exposures-correlations" id="toc-step2a-exposures-correlations" class="nav-link" data-scroll-target="#step2a-exposures-correlations"><span class="header-section-number">2</span> <strong>Step2A:</strong> Exposures’ correlations</a>
  <ul>
<li>
<a href="#exposure-data" id="toc-exposure-data" class="nav-link" data-scroll-target="#exposure-data"><span class="header-section-number">2.1</span> Exposure data</a>
  <ul>
<li><a href="#basics-2" id="toc-basics-2" class="nav-link" data-scroll-target="#basics-2"><span class="header-section-number">2.1.1</span> Basics</a></li>
  <li><a href="#emerged-1" id="toc-emerged-1" class="nav-link" data-scroll-target="#emerged-1"><span class="header-section-number">2.1.2</span> Emerged</a></li>
  </ul>
</li>
  <li>
<a href="#Covaraite_data1" id="toc-Covaraite_data1" class="nav-link" data-scroll-target="#Covaraite_data1"><span class="header-section-number">2.2</span> Covariate data</a>
  <ul>
<li><a href="#basics-3" id="toc-basics-3" class="nav-link" data-scroll-target="#basics-3"><span class="header-section-number">2.2.1</span> Basics</a></li>
  <li><a href="#emerged-2" id="toc-emerged-2" class="nav-link" data-scroll-target="#emerged-2"><span class="header-section-number">2.2.2</span> Emerged</a></li>
  </ul>
</li>
  <li>
<a href="#data-analysis-settings-1" id="toc-data-analysis-settings-1" class="nav-link" data-scroll-target="#data-analysis-settings-1"><span class="header-section-number">2.3</span> Data analysis settings</a>
  <ul>
<li><a href="#basics-4" id="toc-basics-4" class="nav-link" data-scroll-target="#basics-4"><span class="header-section-number">2.3.1</span> Basics</a></li>
  <li><a href="#emerged-3" id="toc-emerged-3" class="nav-link" data-scroll-target="#emerged-3"><span class="header-section-number">2.3.2</span> Emerged</a></li>
  </ul>
</li>
  <li><a href="#visualizations-1" id="toc-visualizations-1" class="nav-link" data-scroll-target="#visualizations-1"><span class="header-section-number">2.4</span> Visualizations</a></li>
  </ul>
</li>
  <li>
<a href="#step2b-associations-with-outcomes." id="toc-step2b-associations-with-outcomes." class="nav-link" data-scroll-target="#step2b-associations-with-outcomes."><span class="header-section-number">3</span> <strong>Step2B:</strong> Associations with outcomes.</a>
  <ul>
<li>
<a href="#outcome-data" id="toc-outcome-data" class="nav-link" data-scroll-target="#outcome-data"><span class="header-section-number">3.1</span> Outcome data</a>
  <ul>
<li><a href="#basics-5" id="toc-basics-5" class="nav-link" data-scroll-target="#basics-5"><span class="header-section-number">3.1.1</span> Basics</a></li>
  <li><a href="#emerged-4" id="toc-emerged-4" class="nav-link" data-scroll-target="#emerged-4"><span class="header-section-number">3.1.2</span> Emerged</a></li>
  </ul>
</li>
  <li>
<a href="#Covaraite_data2" id="toc-Covaraite_data2" class="nav-link" data-scroll-target="#Covaraite_data2"><span class="header-section-number">3.2</span> Covariate data</a>
  <ul>
<li><a href="#basics-6" id="toc-basics-6" class="nav-link" data-scroll-target="#basics-6"><span class="header-section-number">3.2.1</span> Basics</a></li>
  <li><a href="#emerged-5" id="toc-emerged-5" class="nav-link" data-scroll-target="#emerged-5"><span class="header-section-number">3.2.2</span> Emerged</a></li>
  </ul>
</li>
  <li>
<a href="#data-analysis-settings-2" id="toc-data-analysis-settings-2" class="nav-link" data-scroll-target="#data-analysis-settings-2"><span class="header-section-number">3.3</span> Data analysis settings</a>
  <ul>
<li><a href="#basics-7" id="toc-basics-7" class="nav-link" data-scroll-target="#basics-7"><span class="header-section-number">3.3.1</span> Basics</a></li>
  <li><a href="#emerged-6" id="toc-emerged-6" class="nav-link" data-scroll-target="#emerged-6"><span class="header-section-number">3.3.2</span> Emerged</a></li>
  </ul>
</li>
  <li>
<a href="#visualization-settings-1" id="toc-visualization-settings-1" class="nav-link" data-scroll-target="#visualization-settings-1"><span class="header-section-number">3.4</span> Visualization settings</a>
  <ul>
<li><a href="#Basics_3_1_1" id="toc-Basics_3_1_1" class="nav-link" data-scroll-target="#Basics_3_1_1"><span class="header-section-number">3.4.1</span> Basics</a></li>
  </ul>
</li>
  <li><a href="#visualizations-2" id="toc-visualizations-2" class="nav-link" data-scroll-target="#visualizations-2"><span class="header-section-number">3.5</span> Visualizations</a></li>
  </ul>
</li>
  <li>
<a href="#step3-visualization-of-triplot" id="toc-step3-visualization-of-triplot" class="nav-link" data-scroll-target="#step3-visualization-of-triplot"><span class="header-section-number">4</span> <strong>Step3:</strong> Visualization of Triplot</a>
  <ul>
<li><a href="#visualization-settings-2" id="toc-visualization-settings-2" class="nav-link" data-scroll-target="#visualization-settings-2"><span class="header-section-number">4.1</span> Visualization settings</a></li>
  <li><a href="#triplot" id="toc-triplot" class="nav-link" data-scroll-target="#triplot"><span class="header-section-number">4.2</span> Triplot</a></li>
  </ul>
</li>
  <li>
<a href="#step4-mediation-analysis-and-visualization" id="toc-step4-mediation-analysis-and-visualization" class="nav-link" data-scroll-target="#step4-mediation-analysis-and-visualization"><span class="header-section-number">5</span> <strong>Step4:</strong> Mediation analysis and visualization</a>
  <ul>
<li>
<a href="#data-analysis-settings-3" id="toc-data-analysis-settings-3" class="nav-link" data-scroll-target="#data-analysis-settings-3"><span class="header-section-number">5.1</span> Data analysis settings</a>
  <ul>
<li><a href="#basics-8" id="toc-basics-8" class="nav-link" data-scroll-target="#basics-8"><span class="header-section-number">5.1.1</span> Basics</a></li>
  <li><a href="#emerged-7" id="toc-emerged-7" class="nav-link" data-scroll-target="#emerged-7"><span class="header-section-number">5.1.2</span> Emerged</a></li>
  <li><a href="#running-mediation-analysis" id="toc-running-mediation-analysis" class="nav-link" data-scroll-target="#running-mediation-analysis"><span class="header-section-number">5.1.3</span> Running mediation analysis</a></li>
  </ul>
</li>
  <li><a href="#simple_code_link" id="toc-simple_code_link" class="nav-link" data-scroll-target="#simple_code_link"><span class="header-section-number">5.2</span> Visualization settings</a></li>
  <li><a href="#triplot-with-mediation" id="toc-triplot-with-mediation" class="nav-link" data-scroll-target="#triplot-with-mediation"><span class="header-section-number">5.3</span> Triplot with mediation</a></li>
  <li>
<a href="#mediation-barplots" id="toc-mediation-barplots" class="nav-link" data-scroll-target="#mediation-barplots"><span class="header-section-number">5.4</span> Mediation barplots</a>
  <ul>
<li><a href="#visualization-settings-3" id="toc-visualization-settings-3" class="nav-link" data-scroll-target="#visualization-settings-3"><span class="header-section-number">5.4.1</span> Visualization settings</a></li>
  <li><a href="#conventionalcounterfactual-mediation-barplot" id="toc-conventionalcounterfactual-mediation-barplot" class="nav-link" data-scroll-target="#conventionalcounterfactual-mediation-barplot"><span class="header-section-number">5.4.2</span> Conventional/Counterfactual mediation barplot</a></li>
  </ul>
</li>
  </ul>
</li>
  <li>
<a href="#step5-compare-correlations-associations-and-mediations" id="toc-step5-compare-correlations-associations-and-mediations" class="nav-link" data-scroll-target="#step5-compare-correlations-associations-and-mediations"><span class="header-section-number">6</span> <strong>Step5:</strong> Compare correlations, associations and mediations:</a>
  <ul>
<li><a href="#visualization-settings-4" id="toc-visualization-settings-4" class="nav-link" data-scroll-target="#visualization-settings-4"><span class="header-section-number">6.1</span> Visualization settings</a></li>
  <li><a href="#visualizations-3" id="toc-visualizations-3" class="nav-link" data-scroll-target="#visualizations-3"><span class="header-section-number">6.2</span> Visualizations</a></li>
  </ul>
</li>
  <li>
<a href="#step6-download-data" id="toc-step6-download-data" class="nav-link" data-scroll-target="#step6-download-data"><span class="header-section-number">7</span> <strong>Step6:</strong> Download data</a>
  <ul>
<li><a href="#download-processed-data" id="toc-download-processed-data" class="nav-link" data-scroll-target="#download-processed-data"><span class="header-section-number">7.1</span> Download processed data</a></li>
  <li><a href="#download-exposuress-correlations-outcomes-associations-and-mediation-results" id="toc-download-exposuress-correlations-outcomes-associations-and-mediation-results" class="nav-link" data-scroll-target="#download-exposuress-correlations-outcomes-associations-and-mediation-results"><span class="header-section-number">7.2</span> Download exposures’s correlations, outcomes’ associations and mediation results</a></li>
  <li><a href="#tpobject" id="toc-tpobject" class="nav-link" data-scroll-target="#tpobject"><span class="header-section-number">7.3</span> TPObject</a></li>
  <li><a href="#show-data" id="toc-show-data" class="nav-link" data-scroll-target="#show-data"><span class="header-section-number">7.4</span> Show data</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content"><p>We will go through the statistical analysis behind <span style="color:orange">TriplotGUI</span> and also explain the details of out data analysis and visulization in each step. If you want to search the meaning of something specific (e.g.&nbsp;a button, a box), please press <code>ctrl+F</code> and enter the keyword, you will probably find what you need.</p>
<p>If you have not open the app yet, follow what is written in the <a href="./installation.html" target="_blank" style="color:blue">Setup</a> and open the interface with <code>TriplotGUI_shiny()</code></p>
<div class="alert alert-primary">
<p><strong>Note:</strong> Later you can use the <a href="https://gitlab.com/YingxiaoYan/triplotgui/-/tree/main/Example_data?ref_type=heads" target="_blank">example data</a> in our repository to test the TriplotGUI interface yourself following <a href="./simple.html" target="_blank">Tutorial(simple)</a>, <a href="./complex.html" target="_blank">Tutorial(complex)</a> and <a href="./use_case.html" target="_blank">Use Case</a>. This page is more like a mannual of the each detailed part of the tool.</p>
</div>
<section id="step1-data-reduction-of-omics-data" class="level1" data-number="1"><h1 data-number="1">
<span class="header-section-number">1</span> <strong>Step1:</strong> Data reduction of Omics data</h1>
<p>After reading the introduction (step 0), you can click step 1 at the side bar and you will see the lay out as below. <img src="img/step1_1.png" class="img-fluid"></p>
<p><br> As mentioned in the introduction, this step is to transform the Omics data into a number of components using principal component analysis (PCA) or weighted correlation network analysis (WGCNA).</p>
<p>Five boxes with unique features are presented. You can more or less guess what they are for from there titles. Now we go through each boxes in details.</p>
<section id="data-for-pcawgcna" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="data-for-pcawgcna">
<span class="header-section-number">1.1</span> Data for PCA/WGCNA</h2>
<section id="Basics_1_1_1" class="level3" data-number="1.1.1"><h3 data-number="1.1.1" class="anchored" data-anchor-id="Basics_1_1_1">
<span class="header-section-number">1.1.1</span> Basics</h3>
<p>The <span style="color:darkblue">darkblue box</span> is where you put in the Omics data. The data should meet the following criteria.</p>
<ul>
<li>The data should be in either csv, xlsx, rds, or rda format. The data in rds format should be a dataframe. If the data is in rda format, the rda object should only contain the data as a dataframe and be in the same directory as your working directory (You could check this by <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> in the R console)</li>
<li>The rows of data should represent observations and the columns of data should represents variables(omics features).</li>
<li>The names of variables (column names) should not contain special characters including <code>' '</code>, <code>'('</code>, <code>')'</code>, <code>':'</code>, <code>'/'</code>, <code>'-'</code>, <code>','</code>, <code>'@'</code>.</li>
<li>No missing values are allowed in the data</li>
<li>The number and order of observations should be same across all the uploaded data</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>We do not provide the functionality of handling missing data or other data pre-processing steps (e.g.&nbsp;transformation, normalization) in our application due to the variability of possible methods.</p>
</div>
</div>
</section><section id="Emerged_1_1_2" class="level3" data-number="1.1.2"><h3 data-number="1.1.2" class="anchored" data-anchor-id="Emerged_1_1_2">
<span class="header-section-number">1.1.2</span> Emerged</h3>
<p>After you upload the data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: <strong><em>Inspect variable class(es), remove variables(s), Force all variables to numeric</em></strong>.</p>
<ol type="1">
<li><p><strong><em>Inspect variable class(es)</em></strong> This is a button that help you inspect if the variables are in correct format, since you may not want your metabolite features in character format when you want to use their numeric values. Click the button and explore.</p></li>
<li>
<p><strong><em>remove variable(s)</em></strong>: This button allows you to remove variables from your uploaded data. Click the button, remove some variables and click OK. What variables are removed are then printed out and they will not be included in the Omics data to enter the downstream analysis. We also make this removal reversible so that every time when you reclick this button, the data will go back to the state where no variables are removed.</p>
<p>We add this button so that users will not need to manually remove redundant variables that will actually not be used in data analysis.</p>
</li>
<li><p><strong><em>Force all variables to numeric</em></strong>: Upon clicking, this button simply forces all the variables to numeric. Since we want to perform PCA or WGCNA on this Omics data, we want all Omics variables to be in numeric format</p></li>
</ol></section><section id="and-more" class="level3" data-number="1.1.3"><h3 data-number="1.1.3" class="anchored" data-anchor-id="and-more">
<span class="header-section-number">1.1.3</span> And more</h3>
<p>At the right side of the upload data, there is a button called <strong><em>Reset everything</em></strong>. This where you can click remove all your uploads and settings and make the interface go back to a default state.</p>
</section></section><section id="auxilary_data" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="auxilary_data">
<span class="header-section-number">1.2</span> Auxilary data</h2>
<p>The <span style="color:lightblue">lightblue box</span> is where you put in the auxilary data. Currently, the variables in the data uploaded here can be used for 2 things (1) Customizing the color, size and shape of scores. See section <a href="#Emerged_1_4_2">1.4.2</a>. (2) Providing pairing information for outcomes’ associations. See section <a href="#Basics_1_1_1">1.1.1</a>.</p>
<section id="Basics_1_2_1" class="level3" data-number="1.2.1"><h3 data-number="1.2.1" class="anchored" data-anchor-id="Basics_1_2_1">
<span class="header-section-number">1.2.1</span> Basics</h3>
<p>The requirement for input data is the same as <a href="#Basics_1_1_1">1.1.1</a>.</p>
</section><section id="Emerged_1_2_2" class="level3" data-number="1.2.2"><h3 data-number="1.2.2" class="anchored" data-anchor-id="Emerged_1_2_2">
<span class="header-section-number">1.2.2</span> Emerged</h3>
<p>After you upload the axuliary data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: <strong><em>Inspect variable class(es), remove variable(s), Change variable class</em></strong>.</p>
<ol type="1">
<li><p><strong><em>Inspect variable class(es)</em></strong> Same as <a href="#Emerged_1_1_2">1.1.2</a></p></li>
<li><p><strong><em>remove variable(s)</em></strong>: Same as <a href="#Emerged_1_1_2">1.1.2</a></p></li>
<li>
<p><strong><em>Change variable class</em></strong>: This button provide your choices in transforming variables to either factor and numeric variables.</p>
<p>We add this button to faciliate user in tranforming variables to numeric and factor format, corresponding to numeric and caregorical variables.</p>
</li>
</ol></section></section><section id="data-analysis-settings" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="data-analysis-settings">
<span class="header-section-number">1.3</span> Data analysis settings</h2>
<p>The <span style="color:red">red box</span> is where you make choices in how do you want your data analysis to be performed.</p>
<section id="basics" class="level3" data-number="1.3.1"><h3 data-number="1.3.1" class="anchored" data-anchor-id="basics">
<span class="header-section-number">1.3.1</span> Basics</h3>
<ol type="1">
<li><p><strong><em>Method</em></strong>: Users choose to either use principal component analysis (<em>PCA</em>) or weighted correlation network analysis (<em>WGCNA</em>) to perform data reduction. The default is <em>PCA</em></p></li>
<li><p><strong><em>PCA function</em></strong>: Users choose what PCA function, <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/prcomp" target="_blank"><em>prcomp</em></a> or <a href="https://www.rdocumentation.org/packages/psych/versions/2.4.1/topics/principal" target="_blank"><em>principal</em></a>, will be used for principal component analysis. The default is <em>prcomp</em></p></li>
<li>
<p><strong><em>Max number of components</em></strong>: This button shows up when the&nbsp;<strong><em>Method</em></strong>&nbsp;is&nbsp;<em>PCA</em>. It decides how many principal component will be used in the downstream correlation&amp; association analysis. The default is set as 5 or the number of variables int he omics data (if smaller than 5).</p>
<p><strong><em>Minimum number for variables per module</em></strong>: This button shows up when the <strong><em>Method</em></strong> is <em>WGCNA</em>. It decides the minimum number of variables that is allowed in each cluster of WGCNA. The default number is <em>2</em>.</p>
</li>
<li><p><strong><em>Center</em></strong>: If the omics variables will be zero centered before the analysis take place. The default is <em>Yes</em>.</p></li>
<li><p><strong><em>Scale</em></strong>: If the omics variables will be scaled to have unit variance before the analysis take place. The default is <em>Yes</em>.</p></li>
</ol></section><section id="emerged" class="level3" data-number="1.3.2"><h3 data-number="1.3.2" class="anchored" data-anchor-id="emerged">
<span class="header-section-number">1.3.2</span> Emerged</h3>
<ol type="1">
<li>
<strong><em>rotation</em></strong>: The button will show up and When <strong><em>PCA function</em></strong> is chosen as <em>principal</em>. It allows users to select how they would like to transform principal components. Please check&nbsp;<a href="https://search.r-project.org/CRAN/refmans/psych/html/fa.html"><em>here</em></a>&nbsp;for the explanation fo rotate. The default is set as&nbsp;<em>none</em>&nbsp;in TriplotGUI.</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You maybe heard about PCA but not <strong>WGCNA</strong>. In brief, WGCNA is to separate omics variables into clusters, perform PCA on each cluster and extract the first principal component of each cluster as the principal components of WGCNA. The clustering method can be different. In TriplotGUI, we use the default hierarchical clustering method provided by <code>cutreeDynamic()</code> in the <em>dunamicTreeCut</em> package</p>
</div>
</div>
</section></section><section id="visualization-settings" class="level2" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="visualization-settings">
<span class="header-section-number">1.4</span> Visualization settings</h2>
<p>The <span style="color:orange">orange box</span> is where users can modify their visulization outputs</p>
<section id="basics-1" class="level3" data-number="1.4.1"><h3 data-number="1.4.1" class="anchored" data-anchor-id="basics-1">
<span class="header-section-number">1.4.1</span> Basics</h3>
<ol type="1">
<li><p><strong><em>Plotting options</em></strong>: Four options are provided: (1) <em>scores</em>: The scores of principal components are plotted. (2)<em>loadings</em>: The loadings of principal components are plotted. (3) <em>biplots</em>: Both scores and loadings are plotted on the same plot. (4) <em>screeplot</em>: How much variance does each principal component contribute to is plotted. In default mode, none of the 4 options are selected.</p></li>
<li><p><strong><em>Component/module on first axis</em></strong>: The principal component that will be plotted on the x-axis. The default is <em>1</em> (the first one).</p></li>
<li><p><strong><em>Component/module on second axis</em></strong>: The principal component that will be plotted on the y-axis. The default is <em>2</em> (the second one).</p></li>
<li><p><strong><em>Type of loadings:</em></strong> Two options are provided <em>Eigenvectors</em> and <em>Eigenvectors × squareroot(eigenvalues)</em>. The 2 calulations, respectively, correspond to what is referred to as “rotation” in the <em>prcomp</em> package and “Loadings” in the <em>principal</em> package.</p></li>
</ol></section><section id="Emerged_1_4_2" class="level3" data-number="1.4.2"><h3 data-number="1.4.2" class="anchored" data-anchor-id="Emerged_1_4_2">
<span class="header-section-number">1.4.2</span> Emerged</h3>
<ol type="1">
<li><p><strong><em>Loading labels</em></strong>: Upon clicking&nbsp;<em>loadings</em>&nbsp;or&nbsp;<em>biplot</em>&nbsp;in&nbsp;<strong><em>Plotting options</em></strong>. The button will show up. It decides if labels of loadings will be shown on the plot. The default is&nbsp;<em>Yes.</em></p></li>
<li><p><strong><em>Loading Cut by</em></strong>: Upon clicking <em>loadings</em> or <em>biplot</em> in <strong><em>Plotting options</em></strong>, the button will show up. It is useful when the users only want to show loadings bigger than an absolute value or bigger than a certain percent of the maximum loading. The default is <em>Absolute.</em></p></li>
<li><p><strong><em>Absolute loading length</em></strong>: When selecting <em>Absolute</em> in <strong><em>Loading Cut by</em></strong>, a slider will show up to let user decide the loadings below what value will not show up on the plot.</p></li>
<li><p><strong><em>Proportion of maximum loading</em></strong>: When selecting <em>Proportion</em> in <strong><em>Loading Cut by</em></strong>, a slider will show up to let user decide the loadings below how much percent of the maximum loading will not show up on the plot.</p></li>
<li><p><strong><em>Score color by</em></strong>: Upon uploading the <a href="#Auxilary%20data">Auxilary data</a> and clicking <em>loadings</em> or <em>biplot</em> in <strong><em>Plotting options</em></strong>, this button will show up. Users can use one numeric or categorical variable in the auxilary data to color the scores points. By default, no variables are selected.</p></li>
<li><p><strong><em>Score shape by</em></strong>: Upon uploading the <a href="#Auxilary%20data">Auxilary data</a> and clicking <em>loadings</em> or <em>biplot</em> in <strong><em>Plotting options</em></strong>, this button will show up. Users can use one categorical variable in the auxilary data to change the shape of scores points. By default, no variables are selected.</p></li>
<li><p><strong><em>Score size by</em></strong>: Upon uploading the <a href="#Auxilary%20data">Auxilary data</a> and clicking <em>loadings</em> or <em>biplot</em> in <strong><em>Plotting options</em></strong>, this button will show up. Users can use one numeric variable in the auxilary data to change the size of score points. By default, no variables are selected.</p></li>
</ol></section></section><section id="visualizations" class="level2" data-number="1.5"><h2 data-number="1.5" class="anchored" data-anchor-id="visualizations">
<span class="header-section-number">1.5</span> Visualizations</h2>
<p>The <span style="color:green">green box</span> represents visualization outputs. With omics data uploaded, upon selecting <strong><em>Plotting options</em></strong> in the data visualization setting, the corresponding plot are shown.</p>
</section></section><section id="step2a-exposures-correlations" class="level1" data-number="2"><h1 data-number="2">
<span class="header-section-number">2</span> <strong>Step2A:</strong> Exposures’ correlations</h1>
<p>After uploading Omics and auxilary data (optional) in step 1, you can click “Exposures’ correlations” in step 2 at the side bar and you will see the lay out as below. <img src="img/step2_1.png" class="img-fluid"></p>
<p><br> This step is to calculate the correlations between the principal components from step 1 and exposures uploaded at this step.</p>
<p>Four boxes with unique features are presented. Now we go through each boxes in details</p>
<section id="exposure-data" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="exposure-data">
<span class="header-section-number">2.1</span> Exposure data</h2>
<section id="basics-2" class="level3" data-number="2.1.1"><h3 data-number="2.1.1" class="anchored" data-anchor-id="basics-2">
<span class="header-section-number">2.1.1</span> Basics</h3>
<p>The <span style="color:darkblue">dark blue box</span> is where you put in the exposure data. The requirement for exposure data is the same as <a href="#Basics_1_1_1">1.1.1</a>.</p>
</section><section id="emerged-1" class="level3" data-number="2.1.2"><h3 data-number="2.1.2" class="anchored" data-anchor-id="emerged-1">
<span class="header-section-number">2.1.2</span> Emerged</h3>
<p>After you upload the exposure data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: <strong><em>Inspect variable class(es), remove variable(s), Change variable class</em></strong>.</p>
<ol type="1">
<li><p><strong><em>Inspect variable class(es)</em></strong> Same as <a href="#Emerged_1_1_2">1.1.2</a></p></li>
<li><p><strong><em>remove variable(s):</em></strong> Same as <a href="#Emerged_1_1_2">1.1.2</a></p></li>
<li><p><strong><em>Change variable class</em></strong>: Same as <a href="#Emerged_1_2_2">1.2.2</a></p></li>
</ol></section></section><section id="Covaraite_data1" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="Covaraite_data1">
<span class="header-section-number">2.2</span> Covariate data</h2>
<p>The <span style="color:lightblue">light blue box</span> is where you put in the covariate data. After removing redundant variables, the remaining covariate data can be used as confounders for the partial correlation between exposures and principal components.</p>
<section id="basics-3" class="level3" data-number="2.2.1"><h3 data-number="2.2.1" class="anchored" data-anchor-id="basics-3">
<span class="header-section-number">2.2.1</span> Basics</h3>
<p>The requirement for exposure data is the same as <a href="#Basics_1_1_1">1.1.1</a>.</p>
</section><section id="emerged-2" class="level3" data-number="2.2.2"><h3 data-number="2.2.2" class="anchored" data-anchor-id="emerged-2">
<span class="header-section-number">2.2.2</span> Emerged</h3>
<p>After you upload the covariate data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: <strong><em>Inspect variable class(es), remove variable(s), Change variable class</em></strong>.</p>
<ol type="1">
<li><p><strong><em>Inspect variable class(es)</em></strong> Same as <a href="#Emerged_1_1_2">1.1.2</a></p></li>
<li><p><strong><em>remove variable(s)</em></strong> Same as <a href="#Emerged_1_1_2">1.1.2</a></p></li>
<li><p><strong><em>Change variable class</em></strong>: Same as <a href="#Emerged_1_2_2">1.2.2</a></p></li>
</ol></section></section><section id="data-analysis-settings-1" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="data-analysis-settings-1">
<span class="header-section-number">2.3</span> Data analysis settings</h2>
<p>The <span style="color:red">red box</span> is where you make choices in how do you want your correlation analysis to be performed</p>
<section id="basics-4" class="level3" data-number="2.3.1"><h3 data-number="2.3.1" class="anchored" data-anchor-id="basics-4">
<span class="header-section-number">2.3.1</span> Basics</h3>
<ol type="1">
<li><p><strong><em>Method</em></strong>: Three methods inherited from the <em>cor</em> package are supported for continuous exposures: <em>Pearson</em>, <em>Spearman</em>, <em>Kendall</em>. Please check <a href="https://rdrr.io/r/stats/cor.html" target="_blank"><em>cor</em></a> package for more information. The default for TriplotGUI is <em>Spearman</em>.</p></li>
<li><p><strong><em>Missing values</em></strong>: The approaches for managing missing values inherited from the <em>cor</em> package are supported for continuous exposures. Please check <a href="https://rdrr.io/r/stats/cor.html" target="_blank"><em>cor</em></a> package for more information. The default for TriplotGUI is <em>everything</em>.</p></li>
<li><p><strong><em>Categorical variables</em></strong>: Two options are provided <em>Perform one-hot-encoding</em> and <em>Use original</em>. When choosing <em>Perform one-hot-encoding</em>, categorical variables with n classes(n&gt;2) are transformed to n binary variables with 0 and 1 values and then used as numeric variables. When chosing <em>Use original</em>, no transformation is made on the categorical variabls and linear models are used for categorical exposure-principal component correlation analysis. The default is <em>Use original</em>.</p></li>
</ol></section><section id="emerged-3" class="level3" data-number="2.3.2"><h3 data-number="2.3.2" class="anchored" data-anchor-id="emerged-3">
<span class="header-section-number">2.3.2</span> Emerged</h3>
<ol type="1">
<li>
<em><strong>Raw or partial correlation</strong>:</em> Upon uploading the <a href="#Covaraite_data1">covariate data</a>, the button will show up. Two options are provided: <em>Raw</em> and <em>Adjusted</em>. <em>Raw</em> means no covariates are used as confounders in the correlation analysis and <em>Adjusted</em> means that partial correlations, adjusting the same group of confounders, are performed on all exposures-principal components correlations.</li>
</ol></section></section><section id="visualizations-1" class="level2" data-number="2.4"><h2 data-number="2.4" class="anchored" data-anchor-id="visualizations-1">
<span class="header-section-number">2.4</span> Visualizations</h2>
<p>The <span style="color:green">green box</span> represents visualization outputs. With omics data from step 1 and exposure data uploaded, upon clicking the <strong><em>Refresh plot</em></strong> button, the correlations between exposures and the 2 selected components (selected from step 1) are shown. The figure can be downloaded by clicking <strong><em>Download figure</em></strong>.</p>
</section></section><section id="step2b-associations-with-outcomes." class="level1" data-number="3"><h1 data-number="3">
<span class="header-section-number">3</span> <strong>Step2B:</strong> Associations with outcomes.</h1>
<p>After uploading Omics and auxilary data (optional) in step 1, you can click “Outcomes’ associations” in step 2 at the side bar and you will see the lay out as below. <img src="img/step2_2.png" class="img-fluid"></p>
<p><br> This step is to calculate risk associations between the principal components from step 1 and outcomes uploaded at this step.</p>
<p>Five boxes with unique features are presented. Now we go through each boxes in details</p>
<section id="outcome-data" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="outcome-data">
<span class="header-section-number">3.1</span> Outcome data</h2>
<section id="basics-5" class="level3" data-number="3.1.1"><h3 data-number="3.1.1" class="anchored" data-anchor-id="basics-5">
<span class="header-section-number">3.1.1</span> Basics</h3>
<p>The <span style="color:darkblue">dark blue box</span> is where you put in the outcome data. The requirement for exposure data is the same as <a href="#Basics_1_1_1">1.1.1</a>.</p>
</section><section id="emerged-4" class="level3" data-number="3.1.2"><h3 data-number="3.1.2" class="anchored" data-anchor-id="emerged-4">
<span class="header-section-number">3.1.2</span> Emerged</h3>
<p>After you upload the exposure data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: <strong><em>Inspect variable class(es), remove variable(s), Change variable class</em></strong>.</p>
<ol type="1">
<li><p><strong><em>Inspect variable class(es)</em></strong> Same as <a href="#Emerged_1_1_2">1.1.2</a></p></li>
<li><p><strong><em>remove variable(s)</em></strong>: Same as <a href="#Emerged_1_1_2">1.1.2</a></p></li>
<li><p><strong><em>Change variable class</em></strong>: Same as <a href="#Emerged_1_2_2">1.2.2</a></p></li>
</ol></section></section><section id="Covaraite_data2" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="Covaraite_data2">
<span class="header-section-number">3.2</span> Covariate data</h2>
<p>The <span style="color:lightblue">light blue box</span> is where you put in the covariate data. After removing redundant variables, the remaining covariate data can be used as confounders for the partial correlation between outcomes and principal components.</p>
<section id="basics-6" class="level3" data-number="3.2.1"><h3 data-number="3.2.1" class="anchored" data-anchor-id="basics-6">
<span class="header-section-number">3.2.1</span> Basics</h3>
<p>The requirement for exposure data is the same as <a href="#Basics_1_1_1">1.1.1</a>.</p>
</section><section id="emerged-5" class="level3" data-number="3.2.2"><h3 data-number="3.2.2" class="anchored" data-anchor-id="emerged-5">
<span class="header-section-number">3.2.2</span> Emerged</h3>
<p>After you upload the covariate data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: <strong><em>Inspect variable class(es), remove variable(s), Change variable class</em></strong>.</p>
<ol type="1">
<li><p><strong><em>Inspect variable class(es)</em></strong> Same as <a href="#Emerged_1_1_2">1.1.2</a></p></li>
<li><p><strong><em>remove variable(s)</em></strong>: Same as <a href="#Emerged_1_1_2">1.1.2</a></p></li>
<li><p><strong><em>Change variable class</em></strong>: Same as <a href="#Emerged_1_2_2">1.2.2</a></p></li>
</ol></section></section><section id="data-analysis-settings-2" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="data-analysis-settings-2">
<span class="header-section-number">3.3</span> Data analysis settings</h2>
<p>The <span style="color:red">red box</span> is where you make choices in how do you want your risk association analysis to be performed.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>For outcomes - principal-components associations, statistical analysis are performed differently based on different classes of outcome and information provided. The table below summarized the methods and R packages used.</p>
<p><img src="img/step2_3.png" class="img-fluid"></p>
</div>
</div>
<section id="basics-7" class="level3" data-number="3.3.1"><h3 data-number="3.3.1" class="anchored" data-anchor-id="basics-7">
<span class="header-section-number">3.3.1</span> Basics</h3>
<ol type="1">
<li>
<strong><em>log(risk)</em></strong>: Users can choose whether they want their risk estimations to be presented as beta coefficients or odds ratios. Two options are provided <em>Yes (useful for odds ratio)</em> and <em>No (useful for beta coefficient)</em>. The default is <em>No (useful for beta coefficient)</em>
</li>
</ol></section><section id="emerged-6" class="level3" data-number="3.3.2"><h3 data-number="3.3.2" class="anchored" data-anchor-id="emerged-6">
<span class="header-section-number">3.3.2</span> Emerged</h3>
<ol type="1">
<li><p><strong><em>Confounder adjustment</em></strong>: Upon uploading the <a href="#Covaraite_data2">covariate data</a>, the button will show up. The users can choose if confounder will be adjusted for all outcomes-principal components associations, using the same group of confounders. The default is <em>No</em>.</p></li>
<li><p><strong><em>Multinomial Regression</em></strong>: If categorical variables with n&gt;2 class is uploaded or created from outcome variables, the button will show up. By selecting <em>No</em>, one-hot-encoding will be performed on these categorical variables to transform them to n binary variables with 0 and 1 values. By selecting <em>Yes</em>, multinomial regression will be performed on these categorical variables. The default is <em>No.</em></p></li>
<li><p><strong><em>Pairing variable:</em></strong> When auxilary data <a href="#auxilary_data">(1.2.1)</a> is uploaded, this button will show up. It allows users to select variables that contain pairing information in the auxilary data. For example, the matched case-control pair could constitute a categorical variable, where each pair of case and control is given a unique number. Such information can be fed in the modelling of outcome-principal components associations.</p></li>
</ol></section></section><section id="visualization-settings-1" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="visualization-settings-1">
<span class="header-section-number">3.4</span> Visualization settings</h2>
<p>The <span style="color:orange">orange box</span> is where users can modify their visulization outputs</p>
<section id="Basics_3_1_1" class="level3" data-number="3.4.1"><h3 data-number="3.4.1" class="anchored" data-anchor-id="Basics_3_1_1">
<span class="header-section-number">3.4.1</span> Basics</h3>
<ol type="1">
<li><p><strong><em>Confidence level</em></strong>: The confidence level used when calculating the confidence interval of risk estimate.The default is 0.95.</p></li>
<li><p><strong><em>Whisker length</em></strong>:The whisker length of confidence intervals in the figures. Change it from 0.1 to 0.5 and see what is changed in Visualizations! The default is 0.1.</p></li>
</ol></section></section><section id="visualizations-2" class="level2" data-number="3.5"><h2 data-number="3.5" class="anchored" data-anchor-id="visualizations-2">
<span class="header-section-number">3.5</span> Visualizations</h2>
<p>The <span style="color:green">green box</span> represents visualization outputs. With Omics data from step 1 and outcome data uploaded, upon clicking the <strong><em>Refresh plot</em></strong> button, the risk associations between outcomes and 2 selected components (selected from step 1) are shown. The figure can be downloaded by clicking <strong><em>Download figure</em></strong>.</p>
</section></section><section id="step3-visualization-of-triplot" class="level1" data-number="4"><h1 data-number="4">
<span class="header-section-number">4</span> <strong>Step3:</strong> Visualization of Triplot</h1>
<p>After uploading Omics and either exposure or outcome data (or both), you can click “Triplot” in step 3 at the side bar and you will see the lay out as below. <img src="img/step3_1.png" class="img-fluid"></p>
<p><br> This step is to co-visualize scores, loadings, the exposure’s correlations and outcome’s associations generated from step 1 and 2 as 3 different layers in one 2-dimensional plot.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Data upload is only needed in step 1 and 2. Step 3-6 use the uploaded data from step 1 and 2, with no further data upload needed.</p>
</div>
</div>
<p>Two boxes are presented in this step. One contains settings where users can adjust the details of visualization output. The other contains the visualization itself.</p>
<section id="visualization-settings-2" class="level2" data-number="4.1"><h2 data-number="4.1" class="anchored" data-anchor-id="visualization-settings-2">
<span class="header-section-number">4.1</span> Visualization settings</h2>
<p>The <span style="color:orange">orange box</span> represents visualization settings.</p>
<ol type="1">
<li><p><strong><em>Component/module on first/second axis</em></strong>: The principal component that will be plotted on the x/y-axis. The default is <em>1/2</em> (the first/second one).</p></li>
<li><p><strong><em>Plot loadings/correlations/risks</em></strong>: Whether loadings, correlations and risk estimates will be plotted on the visualization. The default is <em>Yes</em>. Upon selecting a <em>No</em>, buttons that are relevant to plot loadings/correlations/risks will not show up.</p></li>
<li><p><strong><em>Loading/Correlation/Risk Labels</em></strong> Whether the labels of loadings, correlations and risk estimates will be plotted on the visualization. The default is <em>Yes</em> for correlation and risk labels and <em>No</em> for loading labels.</p></li>
<li><p><strong><em>Loading/Correlation/Risk Limits</em></strong> The limits of loadings, correlations and risk estimates on the visualization. The default is set as 1.1 times of the maximum loading value, 1.1 times of the maximum correlation coefficients, 1.1 times of the maximum value for risk estimates’ confidence intervals.</p></li>
<li><p><strong><em>Arrow tip length</em></strong>: The arrow tip length of loadings. The default is 0.02.</p></li>
<li><p><strong><em>Loading Cut</em></strong>: Loadings below the value will not show up on the plot.</p></li>
<li><p><strong><em>Plot Scores</em></strong>: Whether the scores will be plotted. The default is <em>No</em>.</p></li>
<li><p><strong><em>Whisker length</em></strong>: The whisker length of confidence intervals in the figures. Change it from 0.1 to 0.5 and see what is changed in Visualizations! The default is 0.1.</p></li>
<li><p><strong><em>log(risk)</em></strong>: Users can choose whether they want their risk estimates to be presented as beta coefficients or odds ratios. Two options are provided <em>Yes (useful for odds ratio)</em> and <em>No (useful for beta coefficient)</em>. The default is <em>No (useful for beta coefficient).</em></p></li>
</ol></section><section id="triplot" class="level2" data-number="4.2"><h2 data-number="4.2" class="anchored" data-anchor-id="triplot">
<span class="header-section-number">4.2</span> Triplot</h2>
<p>The <span style="color:green">green box</span> represents visualization outputs. With Omics data from step 1 and outcome data uploaded, upon clicking the <strong><em>Refresh plot</em></strong> button, the risk associations between outcomes and 2 selected components (selected from step 1) are co-visualized. The figure can be downloaded by clicking <strong><em>Download figure</em></strong>.</p>
</section></section><section id="step4-mediation-analysis-and-visualization" class="level1" data-number="5"><h1 data-number="5">
<span class="header-section-number">5</span> <strong>Step4:</strong> Mediation analysis and visualization</h1>
<div class="columns">
<div class="column">
<p>After the first 3 steps, We go beyond from exposure-Omics-outcome co-visualization to mediation analysis. You can click “Triplot with mediation” in step 4A at the side bar.</p>
<p>This step will calculate mediation analysis results, using selected exposures and outcomes. Principal components are seen and used as mediators. Confounders from step 2 are also automatically adjusted for exposure-mediator and mediator-outcome associations respectively in this step.<br>
(1) The mediation results (i.e.indirect and total effect) or the proportion mediated are then co-visualized with (2) the correlation coefficients of the selected exposures and (3) the risk associations’ estimates as beta coefficients or odds ratio of the selected outcomes as 3 different layers in one 2-dimensional plot.</p>
<p>Three boxes will show up. Two are “Data analysis settings” and “Visualization settings” (See figure). The other is the visualization output.</p>
</div><div class="column" style="width: 10%">

</div><div class="column" style="width: 40%">
<p><img src="img/step4_1.png" class="img-fluid"></p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The first three steps , with more flexible options in analysis and visualization settings, aim to help user to explore data and results. After some tryouts in step 1-3, users should form ideas on what they want to include in their final analysis and figures (e.g.&nbsp;perform confounder adjustment or not; present risks estimates as beta-coefficient or odds ratio). We then recommend users to <strong><em>Reset everything</em></strong> in step 1 and re-perform step 1-3 to get a cleaner version of steps (e.g.&nbsp;Do not upload auxilary data or covariate if you will not use them) before entering step 4.</p>
</div>
</div>
<section id="data-analysis-settings-3" class="level2" data-number="5.1"><h2 data-number="5.1" class="anchored" data-anchor-id="data-analysis-settings-3">
<span class="header-section-number">5.1</span> Data analysis settings</h2>
<section id="basics-8" class="level3" data-number="5.1.1"><h3 data-number="5.1.1" class="anchored" data-anchor-id="basics-8">
<span class="header-section-number">5.1.1</span> Basics</h3>
<ol type="1">
<li><p><strong><em>Component/module on first/second axis</em></strong>: The principal component that will be plotted on the x/y-axis. The default is <em>1/2</em> (the first/second one).</p></li>
<li><p><strong><em>Type of mediation analysis</em></strong>: Two options are provided, <em>Coventional</em> and <em>Counterfactual</em>. By selecting <em>Coventional</em>, mediation analysis originated from <a href="https://pubmed.ncbi.nlm.nih.gov/3806354/">Baron and Kenny</a> and based on the <a href="https://www.annualreviews.org/doi/pdf/10.1146/annurev-publhealth-032315-021402">product method</a> will be performed. By selecting <em>Counterfactual</em> mediation analysis, a potential outcome framework provided by the <a href="https://cran.r-project.org/web/packages/mediation/vignettes/mediation.pdf"><em>mediation</em> package</a> is used. Here is a summarizarion of these 2 methods in TriplotGUI.</p></li>
</ol>
<p><img src="img/step4_2.png" class="img-fluid"></p>
</section><section id="emerged-7" class="level3" data-number="5.1.2"><h3 data-number="5.1.2" class="anchored" data-anchor-id="emerged-7">
<span class="header-section-number">5.1.2</span> Emerged</h3>
<ol type="1">
<li><p><strong><em>Exposure variables</em></strong>: This button will show up upon exposure data is uploaded in step 2. Users can choose which exposures they want to include in their mediation analysis.</p></li>
<li><p><strong><em>Outcome variables</em></strong>: This button will show up upon outcome data is uploaded in step 2. Users can choose which exposures they want to include in their mediation analysis.</p></li>
<li><p><strong><em>Treatment/control</em></strong>: When the mediation method is not selected or selected as <em>Counterfactual</em>, this button will show up upon exposure data is uploaded in step 2 and exposures for mediation analysis are selected. For each selected exposure variables, users needs to specify two values (for continuous exposures) or two classes (for categorical exposures) as treatment and control contrast, respectively.</p></li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>When the mediation method is selected as <em>Counterfactual</em>. It is a must that all treatment and control contrast values are specified before running mediation analysis and that the treatment and control values are different.</p>
<p>If the exposure variable is numeric, the range will be printed out and it is recommended that the users specify treatment and control contrast values between this range. If the exposure variable is categorical, how many levels in the exposure variable will be printed out. Users can only select the existing levels.</p>
</div>
</div>
</section><section id="running-mediation-analysis" class="level3" data-number="5.1.3"><h3 data-number="5.1.3" class="anchored" data-anchor-id="running-mediation-analysis">
<span class="header-section-number">5.1.3</span> Running mediation analysis</h3>
<p><strong><em>Click when add new variables/ run with different methods</em></strong>:</p>
<p>After the users select the exposures and outcomes that they want to perform mediation analysis on, unlike previous steps that automatically performs analysis upon uploading data, the users need to click the <strong><em>Do mediation</em></strong> button to start running mediation analysis, due to the time mediation analysis may take. (Mediation analysis will be performed on the each combination of exposure, principal component and outcome).</p>
<p>Upon clicking, the button will turn grey. A progress bar will then show up at the right bottom corner to remind users if mediation analysis is still running (since it may take sometime). After running mediation analysis, the progress bar will disappear and the button itself will change back to white color.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>The interface memorizes what mediation analysis has been run (e.g.&nbsp;Using what exposure, what outcome, what method). This means that once you have run mediation analysis on certain exposures and outcomes, even if you unselect an exposure or outcome, their mediation result are not deleted. You can check this by reselecting the unselected exposure/outcome and click <strong><em>Do mediation</em></strong>. You may notice that the mediation analysis is finished rather fast since the result is already there.</li>
<li>You can run <em>Counterfactual</em> and <em>conventional</em> analysis alternatively on the same exposure-outcome pair. The result for different methods will be saved respectively.</li>
<li>For a <em>Counterfactual</em> mediation analysis, if you have used exposures-outcomes pairs to run mediation analysis, given specific treatment or control values for exposures, once you use a different treatment or control values for an exposure, all the mediation analysis connecting with that exposure will be rerun and the new results will replaces the corresponding old ones. The last-used treatment and control values for running mediation analysis will be memorized and show up in the Treatment and Control.</li>
<li>
<em>Counterfactual</em> mediation analysis may take more time to run <em>Traditional</em> mediation analysis.</li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p>By selecting exposures, outcomes and specifying mediation method and then clicking <strong><em>Do mediation</em></strong>, the mediation analysis will be run and the results will be saved for the selected exposures, outcomes and mediation methods.</p></li>
<li><p>Visualization will be based on what is selected in the <strong>Data analysis settings</strong> and set up in the <strong>Visualization settings</strong>. And the visualization will only show the results (using specific exposures, outcomes and mediation methods) that are saved.</p></li>
</ul>
</div>
</div>
</section></section><section id="simple_code_link" class="level2" data-number="5.2"><h2 data-number="5.2" class="anchored" data-anchor-id="simple_code_link">
<span class="header-section-number">5.2</span> Visualization settings</h2>
<ol type="1">
<li><p><strong><em>Plot meditation/correlations/risks</em></strong>: Whether mediations, correlations and risk estimates will be plotted on the visualization. The default is <em>Yes</em>. Upon selecting a <em>No</em>, buttons that are relevant to plot mediation/correlations/risks will not show up.</p></li>
<li><p><strong><em>Mediation/correlation/risk Labels</em></strong> Whether the labels of mediation, correlations and risk estimates will be plotted on the visualization. The default is <em>Yes</em> for mediation, correlation and risk labels.</p></li>
<li><p><strong><em>Mediation/correlation/risk Limits</em></strong> The limits of mediations, correlations and risk estimates on the visualization. The default value is set as the same value in step 3 for correlation and risk Limits. The default value for mediation limits is set as 1.1 times of the maximum value for mediation results’ confidence intervals.</p></li>
<li><p><strong><em>Whisker length for mediations/risks</em></strong>: The whisker length of confidence intervals in the figure. Change it from 0.1 to 0.5 and see what is changed in Visualizations! The default is 0.1.</p></li>
<li><p><strong><em>Mediation proportion or estimate</em></strong>: Two options are provided, <em>Proportion</em> and <em>Estimate</em>. Upon selecting <em>Proportion</em>, the proportion mediated (The impact of indirect effect among the total effect) will be used as mediation result for visualization. Upon selecting <em>Estimate</em>, the mediation estimates (indirect and total effect) will be used as mediation result for visualization. The default is <em>Proportion</em>.</p></li>
<li><p><strong><em>Estimate type</em></strong>: Upon selecting <em>Estimate</em>, this checkbox option will show up, providing two choices: <em>IE</em> (indirect effect) and <em>TE</em> (total effect). Users can chose more than one choices to be visualized on the mediation triplot.</p></li>
<li>
<p><strong><em>Proportion type</em></strong>: Upon selecting <em>Proportion</em>, this checkbox option will show up, providing two choices PM(Proportion Mediated) and APM(Adjusted Proportion Mediated): <span class="math display">\[PM=\frac{IE}{IE+DE}\]</span> and <span class="math display">\[APM=\frac{IE}{IE+DE}\cdot\frac{|IE+DE|}{|IE|+|DE|}\]</span></p>
<p>The former represents the conventional way of calculating proportion mediated, without considering the situation when the direct and indirect effect goes into opposite directions. This may lead to a proportion bigger than 1.</p>
<p>The latter method represents a novel way to calulate adjusted proportion mediated. The formula use the absolute value of direct and indirect effect to calculate total effect, which limits the proportion mediated to be within 0-1. The directionality of indirect and total effect are also taken into account. Users can chose more than one choices to be visualized on the mediation triplot.</p>
</li>
<li><p><strong><em>log(risk)</em></strong>: Users can choose whether they want their risk estimates to be presented as beta coefficients or odds ratios. Two options are provided, <em>Yes</em> and <em>No</em> . By selecting <em>Yes</em>, odds ratio will be used. By selecting <em>No</em>, beta coefficient will be used. The default is <em>No</em>.</p></li>
</ol></section><section id="triplot-with-mediation" class="level2" data-number="5.3"><h2 data-number="5.3" class="anchored" data-anchor-id="triplot-with-mediation">
<span class="header-section-number">5.3</span> Triplot with mediation</h2>
<p>The <span style="color:green">green box</span> represents visualization outputs. With omics data from step 1 and exposure and outcome data from step 2 uploaded and mediation analysis performed, upon clicking the <strong><em>Refresh plot</em></strong> button, the selected exposures’ correlations, selected outcomes risk associations’ and mediation analysis estimates are co-visualized. The figure can be downloaded by clicking <strong><em>Download mediation triplot</em></strong>.</p>
</section><section id="mediation-barplots" class="level2" data-number="5.4"><h2 data-number="5.4" class="anchored" data-anchor-id="mediation-barplots">
<span class="header-section-number">5.4</span> Mediation barplots</h2>
<p>We also provide mediation barplots in Step 4, which focus on visualizing the mediation estimates and directions through barplot, using one exposure, one mediator(principal component) and one outcome. The barplot visualization for conventional and counterfactual mediation analysis are separated. <img src="img/step4_4.png" class="img-fluid"></p>
<section id="visualization-settings-3" class="level3" data-number="5.4.1"><h3 data-number="5.4.1" class="anchored" data-anchor-id="visualization-settings-3">
<span class="header-section-number">5.4.1</span> Visualization settings</h3>
<p>The <span style="color:orange">orange box</span> represents visualization settings. After mediation analyses are run, <strong><em>Exposure/Mediator/Outcome</em></strong> variables that are involved in the mediation analyses will show up in the options for visualization settings. Users can choose one exposure, one mediator and one outcome to make the barplot.</p>
</section><section id="conventionalcounterfactual-mediation-barplot" class="level3" data-number="5.4.2"><h3 data-number="5.4.2" class="anchored" data-anchor-id="conventionalcounterfactual-mediation-barplot">
<span class="header-section-number">5.4.2</span> Conventional/Counterfactual mediation barplot</h3>
<p>The <span style="color:green">green box</span> represents visualization outputs. Upon clicking the <strong><em>Refresh plot</em></strong> button, the mediation barplot for the selected exposure, mediator and outcome is shown. The figure can be downloaded by clicking <strong><em>Download conventional/counterfactual mediaiton barplot</em></strong>.</p>
</section></section></section><section id="step5-compare-correlations-associations-and-mediations" class="level1" data-number="6"><h1 data-number="6">
<span class="header-section-number">6</span> <strong>Step5:</strong> Compare correlations, associations and mediations:</h1>
<p>Through heatmaps, (1) the exposures’ correlations with principal components, (2) the outcomes’ associations with principal components and (3) mediation estimates and proportion mediated for each principal component and exposure-outcome pair, as well as their significance levels can be visualized.</p>
<section id="visualization-settings-4" class="level2" data-number="6.1"><h2 data-number="6.1" class="anchored" data-anchor-id="visualization-settings-4">
<span class="header-section-number">6.1</span> Visualization settings</h2>
<p>The <span style="color:orange">orange box</span> represents visualization settings.</p>
<p><img src="img/step5_1.png" class="img-fluid"></p>
<ol type="1">
<li><p><strong><em>PCs to remove</em></strong>: All the selected principal components from step 1 will show up as rows in the heatmap. Users can decide which principal components they want to remove from the heatmap visualizations here.</p></li>
<li><p><strong><em>Show correlation coefficients/risk estimates/mediation estimates</em></strong> : The users can decide what heatmap they want to be shown. The default is <em>Yes</em> for all options.</p></li>
<li><p><strong><em>Correlation(s)/Risk(s) to remove</em></strong>: All the selected exposures and outcomes from step 2 will show up as columns in the heatmap. Users can decide which exposures and outcomes they want to remove from all the heatmap visualizations here.</p></li>
<li><p><strong><em>Mediation estimate type</em></strong>: For the mediation heatmap, users can choose what mediation result (indirect effect, total effect, two types of proportion mediated) they want to show.</p></li>
</ol></section><section id="visualizations-3" class="level2" data-number="6.2"><h2 data-number="6.2" class="anchored" data-anchor-id="visualizations-3">
<span class="header-section-number">6.2</span> Visualizations</h2>
<p>The <span style="color:green">green box</span> represents visualization outputs. Upon clicking the <strong><em>Refresh plot</em></strong> button, the heatmaps for correlations (between selected exposures and principal components), risk associations (between selected outcomes and principal components) and mediations (based on the selected exposures, outcomes, principal components and step 4’s completed mediation analysis results) are shown. The figure can be downloaded by clicking <strong><em>Download figure</em></strong>.</p>
</section></section><section id="step6-download-data" class="level1" data-number="7"><h1 data-number="7">
<span class="header-section-number">7</span> <strong>Step6:</strong> Download data</h1>
<p>This step provides convenience to help user to download data and intermediate results produced in data analysis and visualization. <img src="img/step6_1.png" class="img-fluid"></p>
<section id="download-processed-data" class="level2" data-number="7.1"><h2 data-number="7.1" class="anchored" data-anchor-id="download-processed-data">
<span class="header-section-number">7.1</span> Download processed data</h2>
<p>In the The <span style="color:darkblue">darkblue box</span>, users can download processed data in csv format. The processed data of Omics, exposures and outcomes, i.e.&nbsp;data after possible variable removal and class change mentioned in <a href="#Emerged_1_1_2">1.1.2</a> and <a href="#Emerged_1_2_2">1.2.2</a>, can be viewed and downloaded here.</p>
<p>If auxilary data or covariate data are uploaded in step 1 and 2, they processed version can be similarly viewed and downloaded here.</p>
<p>Separately, the selected exposures, outcomes and principal components as mediator variables that are used in the mediation analysis in step 4 can be viewed and downloaded here.</p>
</section><section id="download-exposuress-correlations-outcomes-associations-and-mediation-results" class="level2" data-number="7.2"><h2 data-number="7.2" class="anchored" data-anchor-id="download-exposuress-correlations-outcomes-associations-and-mediation-results">
<span class="header-section-number">7.2</span> Download exposures’s correlations, outcomes’ associations and mediation results</h2>
<p>From the <span style="color:lightblue">lightblue box</span>, results from correlations, associations and mediation can be viewed and download here.</p>
<ol type="1">
<li>
<p><strong><em>Correlation matrix</em></strong> are correlation coefficients between exposures and principal components generated from step 2.</p>
<p><strong><em>p values of correlations</em></strong> are p values of correlations between exposures and principal components generated from step 2.</p>
</li>
<li>
<p><strong><em>Risk estimates</em></strong> are beta coefficients between the outcome-principal component association generated from step 2. If users want to use odds ratios, they just simply need to calculate the exponential of the data.</p>
<p><strong><em>p values of risks</em></strong> are p values of risk estimates between outcomes and principal components generated from step 2.</p>
</li>
<li>
<p><strong><em>mediation estimates</em></strong> are indirect effect, total effect proportion mediatated and adjusted proportion mediated for each combination of exposure, principal component as mediator and outcome generated from step 4.</p>
<p><strong><em>p values of mediation estimates</em></strong> are p values of indirect effect, total effect proportion mediatated and adjusted proportion mediated for each combination of exposure, principal component as mediator and outcome generated from step 4.</p>
</li>
</ol></section><section id="tpobject" class="level2" data-number="7.3"><h2 data-number="7.3" class="anchored" data-anchor-id="tpobject">
<span class="header-section-number">7.3</span> TPObject</h2>
<p>In the <span style="color:red">red box</span>, users can download the TPObject from step 4 in rda format as end product. We refer the list that we use to save information and pass them through the steps as TPObject.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you are interested, please check out the <a href="./simple_code.html">Tutorial(simple)</a>, <a href="./complex_code.html">Tutorial(complex)</a>, <a href="./use_case.html">Use Case</a>. to explore what is contained in the TPObject from each step!</p>
</div>
</div>
</section><section id="show-data" class="level2" data-number="7.4"><h2 data-number="7.4" class="anchored" data-anchor-id="show-data">
<span class="header-section-number">7.4</span> Show data</h2>
<p>In the <span style="color:green">green box</span>,the intermediate data and the generated results can be viewed. Upon clicking <strong><em>View</em></strong>, the corresponding data will show up here.</p>
<br><p class="large-text">

<strong>Reference</strong>
</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="img/TriplotGUI_logo_black.png" class="img-fluid figure-img" alt="photo." width="310"></p>
</figure>
</div>
</div>
</div>


<!-- -->

</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb1" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Workflow"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "The details of statistics and epidemiology"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-banner:</span><span class="co"> true</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-banner-color:</span><span class="co"> white</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-categories:</span><span class="co"> false</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="an">page-layout:</span><span class="co"> full</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">  html: </span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">    margin-top: 0em</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">    margin-bottom: 0em</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">    padding-top: 0em</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">    padding-bottom: 0em</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">    minimal: true</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co">    smooth-scroll: true</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-responsive: true</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-location: right</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 5</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-title: Workflow</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true  ## add number in the session or not</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co">    number-depth: 4</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: show</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Show the code"</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="co">    code-overflow: wrap</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="co">    highlight: tango</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="co">    df-print: paged  ## kable is another option How the dataframe looks like </span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="co">    standalone: false  ### specifies if all assets and libraries must be integrated into the output html file as a standalone document.</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="co">    fig-align: right</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co">    theme:  solar</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>We will go through the statistical analysis behind <span class="co">[</span><span class="ot">TriplotGUI</span><span class="co">]</span>{style="color:orange"} and also explain the details of out data analysis and visulization in each step. If you want to search the meaning of something specific (e.g. a button, a box), please press <span class="in">`ctrl+F`</span> and enter the keyword, you will probably find what you need.</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>If you have not open the app yet, follow what is written in the <span class="co">[</span><span class="ot">Setup</span><span class="co">](installation.qmd)</span>{target="_blank" style="color:blue"} and open the interface with <span class="in">`TriplotGUI_shiny()`</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>::: {.alert .alert-primary}</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>**Note:** Later you can use the <span class="co">[</span><span class="ot">example data</span><span class="co">](https://gitlab.com/YingxiaoYan/triplotgui/-/tree/main/Example_data?ref_type=heads)</span>{target="_blank"} in our repository to test the TriplotGUI interface yourself following [Tutorial(simple)](simple.qmd){target="_blank"}, [Tutorial(complex)](complex.qmd){target="_blank"} and [Use Case](use_case.qmd){target="_blank"}. This page is more like a mannual of the each detailed part of the tool.</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Step1:** Data reduction of Omics data</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>After reading the introduction (step 0), you can click step 1 at the side bar and you will see the lay out as below. <span class="al">![](img/step1_1.png)</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span> As mentioned in the introduction, this step is to transform the Omics data into a number of components using principal component analysis (PCA) or weighted correlation network analysis (WGCNA).</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>Five boxes with unique features are presented. You can more or less guess what they are for from there titles. Now we go through each boxes in details.</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data for PCA/WGCNA</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics {#Basics_1_1_1}</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">darkblue box</span><span class="co">]</span>{style="color:darkblue"} is where you put in the Omics data. The data should meet the following criteria.</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The data should be in either csv, xlsx, rds, or rda format. The data in rds format should be a dataframe. If the data is in rda format, the rda object should only contain the data as a dataframe and be in the same directory as your working directory (You could check this by <span class="in">`getwd()`</span> in the R console)</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The rows of data should represent observations and the columns of data should represents variables(omics features).</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The names of variables (column names) should not contain special characters including <span class="in">`' '`</span>, <span class="in">`'('`</span>, <span class="in">`')'`</span>, <span class="in">`':'`</span>, <span class="in">`'/'`</span>, <span class="in">`'-'`</span>, <span class="in">`','`</span>, <span class="in">`'@'`</span>.</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>No missing values are allowed in the data</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The number and order of observations should be same across all the uploaded data</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>We do not provide the functionality of handling missing data or other data pre-processing steps (e.g. transformation, normalization) in our application due to the variability of possible methods.</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged {#Emerged_1_1_2}</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>After you upload the data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: ***Inspect variable class(es), remove variables(s), Force all variables to numeric***.</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Inspect variable class(es)*** This is a button that help you inspect if the variables are in correct format, since you may not want your metabolite features in character format when you want to use their numeric values. Click the button and explore.</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***remove variable(s)***: This button allows you to remove variables from your uploaded data. Click the button, remove some variables and click OK. What variables are removed are then printed out and they will not be included in the Omics data to enter the downstream analysis. We also make this removal reversible so that every time when you reclick this button, the data will go back to the state where no variables are removed.</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>    We add this button so that users will not need to manually remove redundant variables that will actually not be used in data analysis.</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Force all variables to numeric***: Upon clicking, this button simply forces all the variables to numeric. Since we want to perform PCA or WGCNA on this Omics data, we want all Omics variables to be in numeric format</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a><span class="fu">### And more</span></span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>At the right side of the upload data, there is a button called ***Reset everything***. This where you can click remove all your uploads and settings and make the interface go back to a default state.</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a><span class="fu">## Auxilary data {#auxilary_data}</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">lightblue box</span><span class="co">]</span>{style="color:lightblue"} is where you put in the auxilary data. Currently, the variables in the data uploaded here can be used for 2 things (1) Customizing the color, size and shape of scores. See section <span class="co">[</span><span class="ot">1.4.2</span><span class="co">](#Emerged_1_4_2)</span>. (2) Providing pairing information for outcomes' associations. See section <span class="co">[</span><span class="ot">1.1.1</span><span class="co">](#Basics_1_1_1)</span>.</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics {#Basics_1_2_1}</span></span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>The requirement for input data is the same as <span class="co">[</span><span class="ot">1.1.1</span><span class="co">](#Basics_1_1_1)</span>.</span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged {#Emerged_1_2_2}</span></span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>After you upload the axuliary data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: ***Inspect variable class(es), remove variable(s), Change variable class***.</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Inspect variable class(es)*** Same as <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span></span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***remove variable(s)***: Same as <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span></span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Change variable class***: This button provide your choices in transforming variables to either factor and numeric variables.</span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>    We add this button to faciliate user in tranforming variables to numeric and factor format, corresponding to numeric and caregorical variables.</span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data analysis settings</span></span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">red box</span><span class="co">]</span>{style="color:red"} is where you make choices in how do you want your data analysis to be performed.</span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics</span></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Method***: Users choose to either use principal component analysis (*PCA*) or weighted correlation network analysis (*WGCNA*) to perform data reduction. The default is *PCA*</span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***PCA function***: Users choose what PCA function, <span class="co">[</span><span class="ot">*prcomp*</span><span class="co">](https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/prcomp)</span>{target="_blank"} or [*principal*](https://www.rdocumentation.org/packages/psych/versions/2.4.1/topics/principal){target="_blank"}, will be used for principal component analysis. The default is *prcomp*</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Max number of components***: This button shows up when the&nbsp;***Method***&nbsp;is&nbsp;*PCA*. It decides how many principal component will be used in the downstream correlation&amp; association analysis. The default is set as 5 or the number of variables int he omics data (if smaller than 5).</span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>    ***Minimum number for variables per module***: This button shows up when the ***Method*** is *WGCNA*. It decides the minimum number of variables that is allowed in each cluster of WGCNA. The default number is *2*.</span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>***Center***: If the omics variables will be zero centered before the analysis take place. The default is *Yes*.</span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>***Scale***: If the omics variables will be scaled to have unit variance before the analysis take place. The default is *Yes*.</span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***rotation***: The button will show up and When ***PCA function*** is chosen as *principal*. It allows users to select how they would like to transform principal components. Please check&nbsp;[*here*](https://search.r-project.org/CRAN/refmans/psych/html/fa.html)&nbsp;for the explanation fo rotate. The default is set as&nbsp;*none*&nbsp;in TriplotGUI.</span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true" tabindex="-1"></a>You maybe heard about PCA but not **WGCNA**. In brief, WGCNA is to separate omics variables into clusters, perform PCA on each cluster and extract the first principal component of each cluster as the principal components of WGCNA. The clustering method can be different. In TriplotGUI, we use the default hierarchical clustering method provided by <span class="in">`cutreeDynamic()`</span> in the *dunamicTreeCut* package</span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visualization settings</span></span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">orange box</span><span class="co">]</span>{style="color:orange"} is where users can modify their visulization outputs</span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics</span></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Plotting options***: Four options are provided: (1) *scores*: The scores of principal components are plotted. (2)*loadings*: The loadings of principal components are plotted. (3) *biplots*: Both scores and loadings are plotted on the same plot. (4) *screeplot*: How much variance does each principal component contribute to is plotted. In default mode, none of the 4 options are selected.</span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Component/module on first axis***: The principal component that will be plotted on the x-axis. The default is *1* (the first one).</span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Component/module on second axis***: The principal component that will be plotted on the y-axis. The default is *2* (the second one).</span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>***Type of loadings:*** Two options are provided *Eigenvectors* and *Eigenvectors × squareroot(eigenvalues)*. The 2 calulations, respectively, correspond to what is referred to as "rotation" in the *prcomp* package and "Loadings" in the *principal* package.</span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged {#Emerged_1_4_2}</span></span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Loading labels***: Upon clicking&nbsp;*loadings*&nbsp;or&nbsp;*biplot*&nbsp;in&nbsp;***Plotting options***. The button will show up. It decides if labels of loadings will be shown on the plot. The default is&nbsp;*Yes.*</span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Loading Cut by***: Upon clicking *loadings* or *biplot* in ***Plotting options***, the button will show up. It is useful when the users only want to show loadings bigger than an absolute value or bigger than a certain percent of the maximum loading. The default is *Absolute.*</span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Absolute loading length***: When selecting *Absolute* in ***Loading Cut by***, a slider will show up to let user decide the loadings below what value will not show up on the plot.</span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>***Proportion of maximum loading***: When selecting *Proportion* in ***Loading Cut by***, a slider will show up to let user decide the loadings below how much percent of the maximum loading will not show up on the plot.</span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>***Score color by***: Upon uploading the [Auxilary data](#Auxilary%20data) and clicking *loadings* or *biplot* in ***Plotting options***, this button will show up. Users can use one numeric or categorical variable in the auxilary data to color the scores points. By default, no variables are selected.</span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a><span class="ss">6.  </span>***Score shape by***: Upon uploading the [Auxilary data](#Auxilary%20data) and clicking *loadings* or *biplot* in ***Plotting options***, this button will show up. Users can use one categorical variable in the auxilary data to change the shape of scores points. By default, no variables are selected.</span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a><span class="ss">7.  </span>***Score size by***: Upon uploading the [Auxilary data](#Auxilary%20data) and clicking *loadings* or *biplot* in ***Plotting options***, this button will show up. Users can use one numeric variable in the auxilary data to change the size of score points. By default, no variables are selected.</span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visualizations</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">green box</span><span class="co">]</span>{style="color:green"} represents visualization outputs. With omics data uploaded, upon selecting ***Plotting options*** in the data visualization setting, the corresponding plot are shown.</span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Step2A:** Exposures' correlations</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true" tabindex="-1"></a>After uploading Omics and auxilary data (optional) in step 1, you can click "Exposures' correlations" in step 2 at the side bar and you will see the lay out as below. <span class="al">![](img/step2_1.png)</span></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span> This step is to calculate the correlations between the principal components from step 1 and exposures uploaded at this step.</span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true" tabindex="-1"></a>Four boxes with unique features are presented. Now we go through each boxes in details</span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true" tabindex="-1"></a><span class="fu">## Exposure data</span></span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics</span></span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">dark blue box</span><span class="co">]</span>{style="color:darkblue"} is where you put in the exposure data. The requirement for exposure data is the same as <span class="co">[</span><span class="ot">1.1.1</span><span class="co">](#Basics_1_1_1)</span>.</span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged</span></span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true" tabindex="-1"></a>After you upload the exposure data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: ***Inspect variable class(es), remove variable(s), Change variable class***.</span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Inspect variable class(es)*** Same as <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span></span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***remove variable(s):*** Same as <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span></span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Change variable class***: Same as <span class="co">[</span><span class="ot">1.2.2</span><span class="co">](#Emerged_1_2_2)</span></span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true" tabindex="-1"></a><span class="fu">## Covariate data {#Covaraite_data1}</span></span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">light blue box</span><span class="co">]</span>{style="color:lightblue"} is where you put in the covariate data. After removing redundant variables, the remaining covariate data can be used as confounders for the partial correlation between exposures and principal components.</span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics</span></span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true" tabindex="-1"></a>The requirement for exposure data is the same as <span class="co">[</span><span class="ot">1.1.1</span><span class="co">](#Basics_1_1_1)</span>.</span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged</span></span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true" tabindex="-1"></a>After you upload the covariate data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: ***Inspect variable class(es), remove variable(s), Change variable class***.</span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Inspect variable class(es)*** Same as <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span></span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***remove variable(s)*** Same as <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span></span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Change variable class***: Same as <span class="co">[</span><span class="ot">1.2.2</span><span class="co">](#Emerged_1_2_2)</span></span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data analysis settings</span></span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">red box</span><span class="co">]</span>{style="color:red"} is where you make choices in how do you want your correlation analysis to be performed</span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics</span></span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Method***: Three methods inherited from the *cor* package are supported for continuous exposures: *Pearson*, *Spearman*, *Kendall*. Please check [*cor*](https://rdrr.io/r/stats/cor.html){target="_blank"} package for more information. The default for TriplotGUI is *Spearman*.</span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Missing values***: The approaches for managing missing values inherited from the *cor* package are supported for continuous exposures. Please check [*cor*](https://rdrr.io/r/stats/cor.html){target="_blank"} package for more information. The default for TriplotGUI is *everything*.</span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Categorical variables***: Two options are provided *Perform one-hot-encoding* and *Use original*. When choosing *Perform one-hot-encoding*, categorical variables with n classes(n\&gt;2) are transformed to n binary variables with 0 and 1 values and then used as numeric variables. When chosing *Use original*, no transformation is made on the categorical variabls and linear models are used for categorical exposure-principal component correlation analysis. The default is *Use original*.</span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged</span></span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Raw or partial correlation**:* Upon uploading the <span class="co">[</span><span class="ot">covariate data</span><span class="co">](#Covaraite_data1)</span>, the button will show up. Two options are provided: *Raw* and *Adjusted*. *Raw* means no covariates are used as confounders in the correlation analysis and *Adjusted* means that partial correlations, adjusting the same group of confounders, are performed on all exposures-principal components correlations.</span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visualizations</span></span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">green box</span><span class="co">]</span>{style="color:green"} represents visualization outputs. With omics data from step 1 and exposure data uploaded, upon clicking the ***Refresh plot*** button, the correlations between exposures and the 2 selected components (selected from step 1) are shown. The figure can be downloaded by clicking ***Download figure***.</span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Step2B:** Associations with outcomes.</span></span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true" tabindex="-1"></a>After uploading Omics and auxilary data (optional) in step 1, you can click "Outcomes' associations" in step 2 at the side bar and you will see the lay out as below. <span class="al">![](img/step2_2.png)</span></span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span> This step is to calculate risk associations between the principal components from step 1 and outcomes uploaded at this step.</span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true" tabindex="-1"></a>Five boxes with unique features are presented. Now we go through each boxes in details</span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true" tabindex="-1"></a><span class="fu">## Outcome data</span></span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-235"><a href="#cb1-235" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics</span></span>
<span id="cb1-236"><a href="#cb1-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-237"><a href="#cb1-237" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">dark blue box</span><span class="co">]</span>{style="color:darkblue"} is where you put in the outcome data. The requirement for exposure data is the same as <span class="co">[</span><span class="ot">1.1.1</span><span class="co">](#Basics_1_1_1)</span>.</span>
<span id="cb1-238"><a href="#cb1-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-239"><a href="#cb1-239" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged</span></span>
<span id="cb1-240"><a href="#cb1-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-241"><a href="#cb1-241" aria-hidden="true" tabindex="-1"></a>After you upload the exposure data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: ***Inspect variable class(es), remove variable(s), Change variable class***.</span>
<span id="cb1-242"><a href="#cb1-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-243"><a href="#cb1-243" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Inspect variable class(es)*** Same as <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span></span>
<span id="cb1-244"><a href="#cb1-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-245"><a href="#cb1-245" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***remove variable(s)***: Same as <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span></span>
<span id="cb1-246"><a href="#cb1-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-247"><a href="#cb1-247" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Change variable class***: Same as <span class="co">[</span><span class="ot">1.2.2</span><span class="co">](#Emerged_1_2_2)</span></span>
<span id="cb1-248"><a href="#cb1-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-249"><a href="#cb1-249" aria-hidden="true" tabindex="-1"></a><span class="fu">## Covariate data {#Covaraite_data2}</span></span>
<span id="cb1-250"><a href="#cb1-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-251"><a href="#cb1-251" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">light blue box</span><span class="co">]</span>{style="color:lightblue"} is where you put in the covariate data. After removing redundant variables, the remaining covariate data can be used as confounders for the partial correlation between outcomes and principal components.</span>
<span id="cb1-252"><a href="#cb1-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-253"><a href="#cb1-253" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics</span></span>
<span id="cb1-254"><a href="#cb1-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-255"><a href="#cb1-255" aria-hidden="true" tabindex="-1"></a>The requirement for exposure data is the same as <span class="co">[</span><span class="ot">1.1.1</span><span class="co">](#Basics_1_1_1)</span>.</span>
<span id="cb1-256"><a href="#cb1-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-257"><a href="#cb1-257" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged</span></span>
<span id="cb1-258"><a href="#cb1-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-259"><a href="#cb1-259" aria-hidden="true" tabindex="-1"></a>After you upload the covariate data, A text will show up to tell you how many rows and columns do you have in the data frame. Three following buttons also emerge: ***Inspect variable class(es), remove variable(s), Change variable class***.</span>
<span id="cb1-260"><a href="#cb1-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-261"><a href="#cb1-261" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Inspect variable class(es)*** Same as <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span></span>
<span id="cb1-262"><a href="#cb1-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-263"><a href="#cb1-263" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***remove variable(s)***: Same as <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span></span>
<span id="cb1-264"><a href="#cb1-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-265"><a href="#cb1-265" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Change variable class***: Same as <span class="co">[</span><span class="ot">1.2.2</span><span class="co">](#Emerged_1_2_2)</span></span>
<span id="cb1-266"><a href="#cb1-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-267"><a href="#cb1-267" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data analysis settings</span></span>
<span id="cb1-268"><a href="#cb1-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-269"><a href="#cb1-269" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">red box</span><span class="co">]</span>{style="color:red"} is where you make choices in how do you want your risk association analysis to be performed.</span>
<span id="cb1-270"><a href="#cb1-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-271"><a href="#cb1-271" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb1-272"><a href="#cb1-272" aria-hidden="true" tabindex="-1"></a>For outcomes - principal-components associations, statistical analysis are performed differently based on different classes of outcome and information provided. The table below summarized the methods and R packages used.</span>
<span id="cb1-273"><a href="#cb1-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-274"><a href="#cb1-274" aria-hidden="true" tabindex="-1"></a><span class="al">![](img/step2_3.png)</span></span>
<span id="cb1-275"><a href="#cb1-275" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-276"><a href="#cb1-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-277"><a href="#cb1-277" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics</span></span>
<span id="cb1-278"><a href="#cb1-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-279"><a href="#cb1-279" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***log(risk)***: Users can choose whether they want their risk estimations to be presented as beta coefficients or odds ratios. Two options are provided *Yes (useful for odds ratio)* and *No (useful for beta coefficient)*. The default is *No (useful for beta coefficient)*</span>
<span id="cb1-280"><a href="#cb1-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-281"><a href="#cb1-281" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged</span></span>
<span id="cb1-282"><a href="#cb1-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-283"><a href="#cb1-283" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Confounder adjustment***: Upon uploading the <span class="co">[</span><span class="ot">covariate data</span><span class="co">](#Covaraite_data2)</span>, the button will show up. The users can choose if confounder will be adjusted for all outcomes-principal components associations, using the same group of confounders. The default is *No*.</span>
<span id="cb1-284"><a href="#cb1-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-285"><a href="#cb1-285" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Multinomial Regression***: If categorical variables with n<span class="sc">\&gt;</span>2 class is uploaded or created from outcome variables, the button will show up. By selecting *No*, one-hot-encoding will be performed on these categorical variables to transform them to n binary variables with 0 and 1 values. By selecting *Yes*, multinomial regression will be performed on these categorical variables. The default is *No.*</span>
<span id="cb1-286"><a href="#cb1-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-287"><a href="#cb1-287" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Pairing variable:*** When auxilary data <span class="co">[</span><span class="ot">(1.2.1)</span><span class="co">](#auxilary_data)</span> is uploaded, this button will show up. It allows users to select variables that contain pairing information in the auxilary data. For example, the matched case-control pair could constitute a categorical variable, where each pair of case and control is given a unique number. Such information can be fed in the modelling of outcome-principal components associations.</span>
<span id="cb1-288"><a href="#cb1-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-289"><a href="#cb1-289" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visualization settings</span></span>
<span id="cb1-290"><a href="#cb1-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-291"><a href="#cb1-291" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">orange box</span><span class="co">]</span>{style="color:orange"} is where users can modify their visulization outputs</span>
<span id="cb1-292"><a href="#cb1-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-293"><a href="#cb1-293" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics {#Basics_3_1_1}</span></span>
<span id="cb1-294"><a href="#cb1-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-295"><a href="#cb1-295" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Confidence level***: The confidence level used when calculating the confidence interval of risk estimate.The default is 0.95.</span>
<span id="cb1-296"><a href="#cb1-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-297"><a href="#cb1-297" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Whisker length***:The whisker length of confidence intervals in the figures. Change it from 0.1 to 0.5 and see what is changed in Visualizations! The default is 0.1.</span>
<span id="cb1-298"><a href="#cb1-298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-299"><a href="#cb1-299" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visualizations</span></span>
<span id="cb1-300"><a href="#cb1-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-301"><a href="#cb1-301" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">green box</span><span class="co">]</span>{style="color:green"} represents visualization outputs. With Omics data from step 1 and outcome data uploaded, upon clicking the ***Refresh plot*** button, the risk associations between outcomes and 2 selected components (selected from step 1) are shown. The figure can be downloaded by clicking ***Download figure***.</span>
<span id="cb1-302"><a href="#cb1-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-303"><a href="#cb1-303" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Step3:** Visualization of Triplot</span></span>
<span id="cb1-304"><a href="#cb1-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-305"><a href="#cb1-305" aria-hidden="true" tabindex="-1"></a>After uploading Omics and either exposure or outcome data (or both), you can click "Triplot" in step 3 at the side bar and you will see the lay out as below. <span class="al">![](img/step3_1.png)</span></span>
<span id="cb1-306"><a href="#cb1-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-307"><a href="#cb1-307" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;br&gt;</span> This step is to co-visualize scores, loadings, the exposure's correlations and outcome's associations generated from step 1 and 2 as 3 different layers in one 2-dimensional plot.</span>
<span id="cb1-308"><a href="#cb1-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-309"><a href="#cb1-309" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb1-310"><a href="#cb1-310" aria-hidden="true" tabindex="-1"></a>Data upload is only needed in step 1 and 2. Step 3-6 use the uploaded data from step 1 and 2, with no further data upload needed.</span>
<span id="cb1-311"><a href="#cb1-311" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-312"><a href="#cb1-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-313"><a href="#cb1-313" aria-hidden="true" tabindex="-1"></a>Two boxes are presented in this step. One contains settings where users can adjust the details of visualization output. The other contains the visualization itself.</span>
<span id="cb1-314"><a href="#cb1-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-315"><a href="#cb1-315" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visualization settings</span></span>
<span id="cb1-316"><a href="#cb1-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-317"><a href="#cb1-317" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">orange box</span><span class="co">]</span>{style="color:orange"} represents visualization settings.</span>
<span id="cb1-318"><a href="#cb1-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-319"><a href="#cb1-319" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Component/module on first/second axis***: The principal component that will be plotted on the x/y-axis. The default is *1/2* (the first/second one).</span>
<span id="cb1-320"><a href="#cb1-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-321"><a href="#cb1-321" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Plot loadings/correlations/risks***: Whether loadings, correlations and risk estimates will be plotted on the visualization. The default is *Yes*. Upon selecting a *No*, buttons that are relevant to plot loadings/correlations/risks will not show up.</span>
<span id="cb1-322"><a href="#cb1-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-323"><a href="#cb1-323" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Loading/Correlation/Risk Labels*** Whether the labels of loadings, correlations and risk estimates will be plotted on the visualization. The default is *Yes* for correlation and risk labels and *No* for loading labels.</span>
<span id="cb1-324"><a href="#cb1-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-325"><a href="#cb1-325" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>***Loading/Correlation/Risk Limits*** The limits of loadings, correlations and risk estimates on the visualization. The default is set as 1.1 times of the maximum loading value, 1.1 times of the maximum correlation coefficients, 1.1 times of the maximum value for risk estimates' confidence intervals.</span>
<span id="cb1-326"><a href="#cb1-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-327"><a href="#cb1-327" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>***Arrow tip length***: The arrow tip length of loadings. The default is 0.02.</span>
<span id="cb1-328"><a href="#cb1-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-329"><a href="#cb1-329" aria-hidden="true" tabindex="-1"></a><span class="ss">6.  </span>***Loading Cut***: Loadings below the value will not show up on the plot.</span>
<span id="cb1-330"><a href="#cb1-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-331"><a href="#cb1-331" aria-hidden="true" tabindex="-1"></a><span class="ss">7.  </span>***Plot Scores***: Whether the scores will be plotted. The default is *No*.</span>
<span id="cb1-332"><a href="#cb1-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-333"><a href="#cb1-333" aria-hidden="true" tabindex="-1"></a><span class="ss">8.  </span>***Whisker length***: The whisker length of confidence intervals in the figures. Change it from 0.1 to 0.5 and see what is changed in Visualizations! The default is 0.1.</span>
<span id="cb1-334"><a href="#cb1-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-335"><a href="#cb1-335" aria-hidden="true" tabindex="-1"></a><span class="ss">9.  </span>***log(risk)***: Users can choose whether they want their risk estimates to be presented as beta coefficients or odds ratios. Two options are provided *Yes (useful for odds ratio)* and *No (useful for beta coefficient)*. The default is *No (useful for beta coefficient).*</span>
<span id="cb1-336"><a href="#cb1-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-337"><a href="#cb1-337" aria-hidden="true" tabindex="-1"></a><span class="fu">## Triplot</span></span>
<span id="cb1-338"><a href="#cb1-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-339"><a href="#cb1-339" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">green box</span><span class="co">]</span>{style="color:green"} represents visualization outputs. With Omics data from step 1 and outcome data uploaded, upon clicking the ***Refresh plot*** button, the risk associations between outcomes and 2 selected components (selected from step 1) are co-visualized. The figure can be downloaded by clicking ***Download figure***.</span>
<span id="cb1-340"><a href="#cb1-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-341"><a href="#cb1-341" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Step4:** Mediation analysis and visualization</span></span>
<span id="cb1-342"><a href="#cb1-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-343"><a href="#cb1-343" aria-hidden="true" tabindex="-1"></a>::: columns</span>
<span id="cb1-344"><a href="#cb1-344" aria-hidden="true" tabindex="-1"></a>::: column</span>
<span id="cb1-345"><a href="#cb1-345" aria-hidden="true" tabindex="-1"></a>After the first 3 steps, We go beyond from exposure-Omics-outcome co-visualization to mediation analysis. You can click “Triplot with mediation” in step 4A at the side bar.</span>
<span id="cb1-346"><a href="#cb1-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-347"><a href="#cb1-347" aria-hidden="true" tabindex="-1"></a>This step will calculate mediation analysis results, using selected exposures and outcomes. Principal components are seen and used as mediators. Confounders from step 2 are also automatically adjusted for exposure-mediator and mediator-outcome associations respectively in this step.\</span>
<span id="cb1-348"><a href="#cb1-348" aria-hidden="true" tabindex="-1"></a>(1) The mediation results (i.e.indirect and total effect) or the proportion mediated are then co-visualized with (2) the correlation coefficients of the selected exposures and (3) the risk associations’ estimates as beta coefficients or odds ratio of the selected outcomes as 3 different layers in one 2-dimensional plot.</span>
<span id="cb1-349"><a href="#cb1-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-350"><a href="#cb1-350" aria-hidden="true" tabindex="-1"></a>Three boxes will show up. Two are “Data analysis settings” and “Visualization settings” (See figure). The other is the visualization output.</span>
<span id="cb1-351"><a href="#cb1-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-352"><a href="#cb1-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-353"><a href="#cb1-353" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-354"><a href="#cb1-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-355"><a href="#cb1-355" aria-hidden="true" tabindex="-1"></a>::: {.column style="width: 10%"}</span>
<span id="cb1-356"><a href="#cb1-356" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-357"><a href="#cb1-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-358"><a href="#cb1-358" aria-hidden="true" tabindex="-1"></a>::: {.column style="width: 40%"}</span>
<span id="cb1-359"><a href="#cb1-359" aria-hidden="true" tabindex="-1"></a><span class="al">![](img/step4_1.png)</span></span>
<span id="cb1-360"><a href="#cb1-360" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-361"><a href="#cb1-361" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-362"><a href="#cb1-362" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb1-363"><a href="#cb1-363" aria-hidden="true" tabindex="-1"></a>The first three steps , with more flexible options in analysis and visualization settings, aim to help user to explore data and results. After some tryouts in step 1-3, users should form ideas on what they want to include in their final analysis and figures (e.g. perform confounder adjustment or not; present risks estimates as beta-coefficient or odds ratio). We then recommend users to ***Reset everything*** in step 1 and re-perform step 1-3 to get a cleaner version of steps (e.g. Do not upload auxilary data or covariate if you will not use them) before entering step 4.</span>
<span id="cb1-364"><a href="#cb1-364" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-365"><a href="#cb1-365" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data analysis settings</span></span>
<span id="cb1-366"><a href="#cb1-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-367"><a href="#cb1-367" aria-hidden="true" tabindex="-1"></a><span class="fu">### Basics</span></span>
<span id="cb1-368"><a href="#cb1-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-369"><a href="#cb1-369" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Component/module on first/second axis***: The principal component that will be plotted on the x/y-axis. The default is *1/2* (the first/second one).</span>
<span id="cb1-370"><a href="#cb1-370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-371"><a href="#cb1-371" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Type of mediation analysis***: Two options are provided, *Coventional* and *Counterfactual*. By selecting *Coventional*, mediation analysis originated from [Baron and Kenny](https://pubmed.ncbi.nlm.nih.gov/3806354/) and based on the [product method](https://www.annualreviews.org/doi/pdf/10.1146/annurev-publhealth-032315-021402) will be performed. By selecting *Counterfactual* mediation analysis, a potential outcome framework provided by the [*mediation* package](https://cran.r-project.org/web/packages/mediation/vignettes/mediation.pdf) is used. Here is a summarizarion of these 2 methods in TriplotGUI.</span>
<span id="cb1-372"><a href="#cb1-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-373"><a href="#cb1-373" aria-hidden="true" tabindex="-1"></a><span class="al">![](img/step4_2.png)</span></span>
<span id="cb1-374"><a href="#cb1-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-375"><a href="#cb1-375" aria-hidden="true" tabindex="-1"></a><span class="fu">### Emerged</span></span>
<span id="cb1-376"><a href="#cb1-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-377"><a href="#cb1-377" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Exposure variables***: This button will show up upon exposure data is uploaded in step 2. Users can choose which exposures they want to include in their mediation analysis.</span>
<span id="cb1-378"><a href="#cb1-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-379"><a href="#cb1-379" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Outcome variables***: This button will show up upon outcome data is uploaded in step 2. Users can choose which exposures they want to include in their mediation analysis.</span>
<span id="cb1-380"><a href="#cb1-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-381"><a href="#cb1-381" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Treatment/control***: When the mediation method is not selected or selected as *Counterfactual*, this button will show up upon exposure data is uploaded in step 2 and exposures for mediation analysis are selected. For each selected exposure variables, users needs to specify two values (for continuous exposures) or two classes (for categorical exposures) as treatment and control contrast, respectively.</span>
<span id="cb1-382"><a href="#cb1-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-383"><a href="#cb1-383" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb1-384"><a href="#cb1-384" aria-hidden="true" tabindex="-1"></a>When the mediation method is selected as *Counterfactual*. It is a must that all treatment and control contrast values are specified before running mediation analysis and that the treatment and control values are different.</span>
<span id="cb1-385"><a href="#cb1-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-386"><a href="#cb1-386" aria-hidden="true" tabindex="-1"></a>If the exposure variable is numeric, the range will be printed out and it is recommended that the users specify treatment and control contrast values between this range. If the exposure variable is categorical, how many levels in the exposure variable will be printed out. Users can only select the existing levels.</span>
<span id="cb1-387"><a href="#cb1-387" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-388"><a href="#cb1-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-389"><a href="#cb1-389" aria-hidden="true" tabindex="-1"></a><span class="fu">### Running mediation analysis</span></span>
<span id="cb1-390"><a href="#cb1-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-391"><a href="#cb1-391" aria-hidden="true" tabindex="-1"></a>***Click when add new variables/ run with different methods***:</span>
<span id="cb1-392"><a href="#cb1-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-393"><a href="#cb1-393" aria-hidden="true" tabindex="-1"></a>After the users select the exposures and outcomes that they want to perform mediation analysis on, unlike previous steps that automatically performs analysis upon uploading data, the users need to click the ***Do mediation*** button to start running mediation analysis, due to the time mediation analysis may take. (Mediation analysis will be performed on the each combination of exposure, principal component and outcome).</span>
<span id="cb1-394"><a href="#cb1-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-395"><a href="#cb1-395" aria-hidden="true" tabindex="-1"></a>Upon clicking, the button will turn grey. A progress bar will then show up at the right bottom corner to remind users if mediation analysis is still running (since it may take sometime). After running mediation analysis, the progress bar will disappear and the button itself will change back to white color.</span>
<span id="cb1-396"><a href="#cb1-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-397"><a href="#cb1-397" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb1-398"><a href="#cb1-398" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The interface memorizes what mediation analysis has been run (e.g. Using what exposure, what outcome, what method). This means that once you have run mediation analysis on certain exposures and outcomes, even if you unselect an exposure or outcome, their mediation result are not deleted. You can check this by reselecting the unselected exposure/outcome and click ***Do mediation***. You may notice that the mediation analysis is finished rather fast since the result is already there.</span>
<span id="cb1-399"><a href="#cb1-399" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>You can run *Counterfactual* and *conventional* analysis alternatively on the same exposure-outcome pair. The result for different methods will be saved respectively.</span>
<span id="cb1-400"><a href="#cb1-400" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>For a *Counterfactual* mediation analysis, if you have used exposures-outcomes pairs to run mediation analysis, given specific treatment or control values for exposures, once you use a different treatment or control values for an exposure, all the mediation analysis connecting with that exposure will be rerun and the new results will replaces the corresponding old ones. The last-used treatment and control values for running mediation analysis will be memorized and show up in the Treatment and Control.</span>
<span id="cb1-401"><a href="#cb1-401" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>*Counterfactual* mediation analysis may take more time to run *Traditional* mediation analysis.</span>
<span id="cb1-402"><a href="#cb1-402" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-403"><a href="#cb1-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-404"><a href="#cb1-404" aria-hidden="true" tabindex="-1"></a>::: callout-important</span>
<span id="cb1-405"><a href="#cb1-405" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>By selecting exposures, outcomes and specifying mediation method and then clicking ***Do mediation***, the mediation analysis will be run and the results will be saved for the selected exposures, outcomes and mediation methods.</span>
<span id="cb1-406"><a href="#cb1-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-407"><a href="#cb1-407" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Visualization will be based on what is selected in the **Data analysis settings** and set up in the **Visualization settings**. And the visualization will only show the results (using specific exposures, outcomes and mediation methods) that are saved.</span>
<span id="cb1-408"><a href="#cb1-408" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-409"><a href="#cb1-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-410"><a href="#cb1-410" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visualization settings {#simple_code_link}</span></span>
<span id="cb1-411"><a href="#cb1-411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-412"><a href="#cb1-412" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Plot meditation/correlations/risks***: Whether mediations, correlations and risk estimates will be plotted on the visualization. The default is *Yes*. Upon selecting a *No*, buttons that are relevant to plot mediation/correlations/risks will not show up.</span>
<span id="cb1-413"><a href="#cb1-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-414"><a href="#cb1-414" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Mediation/correlation/risk Labels*** Whether the labels of mediation, correlations and risk estimates will be plotted on the visualization. The default is *Yes* for mediation, correlation and risk labels.</span>
<span id="cb1-415"><a href="#cb1-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-416"><a href="#cb1-416" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Mediation/correlation/risk Limits*** The limits of mediations, correlations and risk estimates on the visualization. The default value is set as the same value in step 3 for correlation and risk Limits. The default value for mediation limits is set as 1.1 times of the maximum value for mediation results’ confidence intervals.</span>
<span id="cb1-417"><a href="#cb1-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-418"><a href="#cb1-418" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>***Whisker length for mediations/risks***: The whisker length of confidence intervals in the figure. Change it from 0.1 to 0.5 and see what is changed in Visualizations! The default is 0.1.</span>
<span id="cb1-419"><a href="#cb1-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-420"><a href="#cb1-420" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>***Mediation proportion or estimate***: Two options are provided, *Proportion* and *Estimate*. Upon selecting *Proportion*, the proportion mediated (The impact of indirect effect among the total effect) will be used as mediation result for visualization. Upon selecting *Estimate*, the mediation estimates (indirect and total effect) will be used as mediation result for visualization. The default is *Proportion*.</span>
<span id="cb1-421"><a href="#cb1-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-422"><a href="#cb1-422" aria-hidden="true" tabindex="-1"></a><span class="ss">6.  </span>***Estimate type***: Upon selecting *Estimate*, this checkbox option will show up, providing two choices: *IE* (indirect effect) and *TE* (total effect). Users can chose more than one choices to be visualized on the mediation triplot.</span>
<span id="cb1-423"><a href="#cb1-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-424"><a href="#cb1-424" aria-hidden="true" tabindex="-1"></a><span class="ss">7.  </span>***Proportion type***: Upon selecting *Proportion*, this checkbox option will show up, providing two choices PM(Proportion Mediated) and APM(Adjusted Proportion Mediated): $$PM=\frac{IE}{IE+DE}$$ and $$APM=\frac{IE}{IE+DE}\cdot\frac{|IE+DE|}{|IE|+|DE|}$$</span>
<span id="cb1-425"><a href="#cb1-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-426"><a href="#cb1-426" aria-hidden="true" tabindex="-1"></a>    The former represents the conventional way of calculating proportion mediated, without considering the situation when the direct and indirect effect goes into opposite directions. This may lead to a proportion bigger than 1.</span>
<span id="cb1-427"><a href="#cb1-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-428"><a href="#cb1-428" aria-hidden="true" tabindex="-1"></a>    The latter method represents a novel way to calulate adjusted proportion mediated. The formula use the absolute value of direct and indirect effect to calculate total effect, which limits the proportion mediated to be within 0-1. The directionality of indirect and total effect are also taken into account. Users can chose more than one choices to be visualized on the mediation triplot.</span>
<span id="cb1-429"><a href="#cb1-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-430"><a href="#cb1-430" aria-hidden="true" tabindex="-1"></a><span class="ss">8.  </span>***log(risk)***: Users can choose whether they want their risk estimates to be presented as beta coefficients or odds ratios. Two options are provided, *Yes* and *No* . By selecting *Yes*, odds ratio will be used. By selecting *No*, beta coefficient will be used. The default is *No*.</span>
<span id="cb1-431"><a href="#cb1-431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-432"><a href="#cb1-432" aria-hidden="true" tabindex="-1"></a><span class="fu">## Triplot with mediation</span></span>
<span id="cb1-433"><a href="#cb1-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-434"><a href="#cb1-434" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">green box</span><span class="co">]</span>{style="color:green"} represents visualization outputs. With omics data from step 1 and exposure and outcome data from step 2 uploaded and mediation analysis performed, upon clicking the ***Refresh plot*** button, the selected exposures' correlations, selected outcomes risk associations' and mediation analysis estimates are co-visualized. The figure can be downloaded by clicking ***Download mediation triplot***.</span>
<span id="cb1-435"><a href="#cb1-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-436"><a href="#cb1-436" aria-hidden="true" tabindex="-1"></a><span class="fu">## Mediation barplots</span></span>
<span id="cb1-437"><a href="#cb1-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-438"><a href="#cb1-438" aria-hidden="true" tabindex="-1"></a>We also provide mediation barplots in Step 4, which focus on visualizing the mediation estimates and directions through barplot, using one exposure, one mediator(principal component) and one outcome. The barplot visualization for conventional and counterfactual mediation analysis are separated. <span class="al">![](img/step4_4.png)</span></span>
<span id="cb1-439"><a href="#cb1-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-440"><a href="#cb1-440" aria-hidden="true" tabindex="-1"></a><span class="fu">### Visualization settings</span></span>
<span id="cb1-441"><a href="#cb1-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-442"><a href="#cb1-442" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">orange box</span><span class="co">]</span>{style="color:orange"} represents visualization settings. After mediation analyses are run, ***Exposure/Mediator/Outcome*** variables that are involved in the mediation analyses will show up in the options for visualization settings. Users can choose one exposure, one mediator and one outcome to make the barplot.</span>
<span id="cb1-443"><a href="#cb1-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-444"><a href="#cb1-444" aria-hidden="true" tabindex="-1"></a><span class="fu">### Conventional/Counterfactual mediation barplot</span></span>
<span id="cb1-445"><a href="#cb1-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-446"><a href="#cb1-446" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">green box</span><span class="co">]</span>{style="color:green"} represents visualization outputs. Upon clicking the ***Refresh plot*** button, the mediation barplot for the selected exposure, mediator and outcome is shown. The figure can be downloaded by clicking ***Download conventional/counterfactual mediaiton barplot***.</span>
<span id="cb1-447"><a href="#cb1-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-448"><a href="#cb1-448" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Step5:** Compare correlations, associations and mediations:</span></span>
<span id="cb1-449"><a href="#cb1-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-450"><a href="#cb1-450" aria-hidden="true" tabindex="-1"></a>Through heatmaps, (1) the exposures' correlations with principal components, (2) the outcomes' associations with principal components and (3) mediation estimates and proportion mediated for each principal component and exposure-outcome pair, as well as their significance levels can be visualized.</span>
<span id="cb1-451"><a href="#cb1-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-452"><a href="#cb1-452" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visualization settings</span></span>
<span id="cb1-453"><a href="#cb1-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-454"><a href="#cb1-454" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">orange box</span><span class="co">]</span>{style="color:orange"} represents visualization settings.</span>
<span id="cb1-455"><a href="#cb1-455" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-456"><a href="#cb1-456" aria-hidden="true" tabindex="-1"></a><span class="al">![](img/step5_1.png)</span></span>
<span id="cb1-457"><a href="#cb1-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-458"><a href="#cb1-458" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***PCs to remove***: All the selected principal components from step 1 will show up as rows in the heatmap. Users can decide which principal components they want to remove from the heatmap visualizations here.</span>
<span id="cb1-459"><a href="#cb1-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-460"><a href="#cb1-460" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Show correlation coefficients/risk estimates/mediation estimates*** : The users can decide what heatmap they want to be shown. The default is *Yes* for all options.</span>
<span id="cb1-461"><a href="#cb1-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-462"><a href="#cb1-462" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Correlation(s)/Risk(s) to remove***: All the selected exposures and outcomes from step 2 will show up as columns in the heatmap. Users can decide which exposures and outcomes they want to remove from all the heatmap visualizations here.</span>
<span id="cb1-463"><a href="#cb1-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-464"><a href="#cb1-464" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>***Mediation estimate type***: For the mediation heatmap, users can choose what mediation result (indirect effect, total effect, two types of proportion mediated) they want to show.</span>
<span id="cb1-465"><a href="#cb1-465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-466"><a href="#cb1-466" aria-hidden="true" tabindex="-1"></a><span class="fu">## Visualizations</span></span>
<span id="cb1-467"><a href="#cb1-467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-468"><a href="#cb1-468" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">green box</span><span class="co">]</span>{style="color:green"} represents visualization outputs. Upon clicking the ***Refresh plot*** button, the heatmaps for correlations (between selected exposures and principal components), risk associations (between selected outcomes and principal components) and mediations (based on the selected exposures, outcomes, principal components and step 4's completed mediation analysis results) are shown. The figure can be downloaded by clicking ***Download figure***.</span>
<span id="cb1-469"><a href="#cb1-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-470"><a href="#cb1-470" aria-hidden="true" tabindex="-1"></a><span class="fu"># **Step6:** Download data</span></span>
<span id="cb1-471"><a href="#cb1-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-472"><a href="#cb1-472" aria-hidden="true" tabindex="-1"></a>This step provides convenience to help user to download data and intermediate results produced in data analysis and visualization. <span class="al">![](img/step6_1.png)</span></span>
<span id="cb1-473"><a href="#cb1-473" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-474"><a href="#cb1-474" aria-hidden="true" tabindex="-1"></a><span class="fu">## Download processed data</span></span>
<span id="cb1-475"><a href="#cb1-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-476"><a href="#cb1-476" aria-hidden="true" tabindex="-1"></a>In the The <span class="co">[</span><span class="ot">darkblue box</span><span class="co">]</span>{style="color:darkblue"}, users can download processed data in csv format. The processed data of Omics, exposures and outcomes, i.e. data after possible variable removal and class change mentioned in <span class="co">[</span><span class="ot">1.1.2</span><span class="co">](#Emerged_1_1_2)</span> and <span class="co">[</span><span class="ot">1.2.2</span><span class="co">](#Emerged_1_2_2)</span>, can be viewed and downloaded here.</span>
<span id="cb1-477"><a href="#cb1-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-478"><a href="#cb1-478" aria-hidden="true" tabindex="-1"></a>If auxilary data or covariate data are uploaded in step 1 and 2, they processed version can be similarly viewed and downloaded here.</span>
<span id="cb1-479"><a href="#cb1-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-480"><a href="#cb1-480" aria-hidden="true" tabindex="-1"></a>Separately, the selected exposures, outcomes and principal components as mediator variables that are used in the mediation analysis in step 4 can be viewed and downloaded here.</span>
<span id="cb1-481"><a href="#cb1-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-482"><a href="#cb1-482" aria-hidden="true" tabindex="-1"></a><span class="fu">## Download exposures's correlations, outcomes' associations and mediation results</span></span>
<span id="cb1-483"><a href="#cb1-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-484"><a href="#cb1-484" aria-hidden="true" tabindex="-1"></a>From the <span class="co">[</span><span class="ot">lightblue box</span><span class="co">]</span>{style="color:lightblue"}, results from correlations, associations and mediation can be viewed and download here.</span>
<span id="cb1-485"><a href="#cb1-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-486"><a href="#cb1-486" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Correlation matrix*** are correlation coefficients between exposures and principal components generated from step 2.</span>
<span id="cb1-487"><a href="#cb1-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-488"><a href="#cb1-488" aria-hidden="true" tabindex="-1"></a>    ***p values of correlations*** are p values of correlations between exposures and principal components generated from step 2.</span>
<span id="cb1-489"><a href="#cb1-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-490"><a href="#cb1-490" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Risk estimates*** are beta coefficients between the outcome-principal component association generated from step 2. If users want to use odds ratios, they just simply need to calculate the exponential of the data.</span>
<span id="cb1-491"><a href="#cb1-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-492"><a href="#cb1-492" aria-hidden="true" tabindex="-1"></a>    ***p values of risks*** are p values of risk estimates between outcomes and principal components generated from step 2.</span>
<span id="cb1-493"><a href="#cb1-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-494"><a href="#cb1-494" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***mediation estimates*** are indirect effect, total effect proportion mediatated and adjusted proportion mediated for each combination of exposure, principal component as mediator and outcome generated from step 4.</span>
<span id="cb1-495"><a href="#cb1-495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-496"><a href="#cb1-496" aria-hidden="true" tabindex="-1"></a>    ***p values of mediation estimates*** are p values of indirect effect, total effect proportion mediatated and adjusted proportion mediated for each combination of exposure, principal component as mediator and outcome generated from step 4.</span>
<span id="cb1-497"><a href="#cb1-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-498"><a href="#cb1-498" aria-hidden="true" tabindex="-1"></a><span class="fu">## TPObject</span></span>
<span id="cb1-499"><a href="#cb1-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-500"><a href="#cb1-500" aria-hidden="true" tabindex="-1"></a>In the <span class="co">[</span><span class="ot">red box</span><span class="co">]</span>{style="color:red"}, users can download the TPObject from step 4 in rda format as end product. We refer the list that we use to save information and pass them through the steps as TPObject.</span>
<span id="cb1-501"><a href="#cb1-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-502"><a href="#cb1-502" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb1-503"><a href="#cb1-503" aria-hidden="true" tabindex="-1"></a>If you are interested, please check out the <span class="co">[</span><span class="ot">Tutorial(simple)</span><span class="co">](simple_code.qmd)</span>, <span class="co">[</span><span class="ot">Tutorial(complex)</span><span class="co">](complex_code.qmd)</span>, <span class="co">[</span><span class="ot">Use Case</span><span class="co">](use_case.qmd)</span>. to explore what is contained in the TPObject from each step!</span>
<span id="cb1-504"><a href="#cb1-504" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb1-505"><a href="#cb1-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-506"><a href="#cb1-506" aria-hidden="true" tabindex="-1"></a><span class="fu">## Show data</span></span>
<span id="cb1-507"><a href="#cb1-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-508"><a href="#cb1-508" aria-hidden="true" tabindex="-1"></a>In the <span class="co">[</span><span class="ot">green box</span><span class="co">]</span>{style="color:green"},the intermediate data and the generated results can be viewed. Upon clicking ***View***, the corresponding data will show up here.</span>
<span id="cb1-509"><a href="#cb1-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-510"><a href="#cb1-510" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb1-511"><a href="#cb1-511" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;br&gt;</span></span>
<span id="cb1-512"><a href="#cb1-512" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;p class="large-text"&gt;</span></span>
<span id="cb1-513"><a href="#cb1-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-514"><a href="#cb1-514" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;strong&gt;Reference&lt;/strong&gt;</span></span>
<span id="cb1-515"><a href="#cb1-515" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/p&gt;</span></span>
<span id="cb1-516"><a href="#cb1-516" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb1-519"><a href="#cb1-519" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-520"><a href="#cb1-520" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb1-521"><a href="#cb1-521" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb1-522"><a href="#cb1-522" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-width: 5</span></span>
<span id="cb1-523"><a href="#cb1-523" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 3</span></span>
<span id="cb1-524"><a href="#cb1-524" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-alt: "photo."</span></span>
<span id="cb1-525"><a href="#cb1-525" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"img/TriplotGUI_logo_black.png"</span>)</span>
<span id="cb1-526"><a href="#cb1-526" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left"><span class="faux-block">© 2024 Yingxiao Yan CC BY-SA 4.0</span></div>   
    <div class="nav-footer-center"><span class="faux-block"><a href="https://gitlab.com/YingxiaoYan/TriplotGUI">TriplotGUI gitlab</a></span></div>
    <div class="nav-footer-right"><span class="faux-block cyan"><a href="https://yingxiaoyan.gitlab.io/triplotgui_tutorial/">View source of this site on GitLab</a></span></div>
  </div>
</footer>


<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>